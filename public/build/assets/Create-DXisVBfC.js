import{p as S,r as j,c as i,o as r,a as x,u as o,h as B,w as g,b as e,l as h,q as R,d as p,j as m,v as f,t as d,y as A,F as b,f as y,i as D}from"./app-CUT9d-xB.js";import{_ as M}from"./DashboardLayout-C96m34Bm.js";const N={class:"max-w-4xl mx-auto"},U={class:"mb-6"},q={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-slate-200/50"},P={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},$={key:0,class:"mt-2 text-sm text-red-600"},F={key:0,class:"mt-2 text-sm text-red-600"},z={class:"md:col-span-2"},E={key:0,class:"mt-2 text-sm text-red-600"},L={key:0,class:"mt-2 text-sm text-red-600"},O={class:"flex items-center"},T={class:"flex items-center space-x-3 cursor-pointer"},G={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-slate-200/50"},H={class:"space-y-6"},I={class:"flex items-center justify-between mb-4"},J={class:"text-lg font-semibold text-slate-800 capitalize"},K=["onClick"],Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3"},W=["checked","onChange"],X={class:"text-sm font-medium text-slate-800"},Y={key:0,class:"text-xs text-slate-500"},Z={key:0,class:"mt-4 text-sm text-red-600"},ee={class:"flex items-center justify-end space-x-4"},te=["disabled"],se={key:0},oe={key:1},ne={__name:"Create",props:{auth:Object,permissions:Object},setup(v){const _=v,s=S({name:"",slug:"",description:"",priority:50,permissions:[],is_active:!0}),n=j(new Set),k=()=>{s.slug=s.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")},w=u=>{n.value.has(u)?n.value.delete(u):n.value.add(u),s.permissions=Array.from(n.value)},C=u=>{const t=_.permissions[u]||[],l=t.every(c=>n.value.has(c.id));t.forEach(c=>{l?n.value.delete(c.id):n.value.add(c.id)}),s.permissions=Array.from(n.value)},V=()=>{s.post(route("admin.roles.store"))};return(u,t)=>(r(),i(b,null,[x(o(B),{title:"Create Role"}),x(M,{title:"Create Role",subtitle:"Create a new system role with specific permissions"},{default:g(()=>[e("div",N,[e("div",U,[x(o(h),{href:u.route("admin.roles.index"),class:"inline-flex items-center space-x-2 text-slate-600 hover:text-slate-800 transition-colors duration-200"},{default:g(()=>[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),e("span",null,"Back to Roles",-1)])]),_:1},8,["href"])]),e("form",{onSubmit:R(V,["prevent"]),class:"space-y-8"},[e("div",q,[t[11]||(t[11]=e("h2",{class:"text-xl font-bold text-slate-800 mb-6"},"Basic Information",-1)),e("div",P,[e("div",null,[t[6]||(t[6]=e("label",{for:"name",class:"block text-sm font-semibold text-slate-700 mb-2"},"Role Name",-1)),p(e("input",{id:"name","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).name=l),onInput:k,type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g., Content Manager"},null,544),[[f,o(s).name]]),o(s).errors.name?(r(),i("div",$,d(o(s).errors.name),1)):m("",!0)]),e("div",null,[t[7]||(t[7]=e("label",{for:"slug",class:"block text-sm font-semibold text-slate-700 mb-2"},"Slug",-1)),p(e("input",{id:"slug","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).slug=l),type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g., content-manager"},null,512),[[f,o(s).slug]]),o(s).errors.slug?(r(),i("div",F,d(o(s).errors.slug),1)):m("",!0)]),e("div",z,[t[8]||(t[8]=e("label",{for:"description",class:"block text-sm font-semibold text-slate-700 mb-2"},"Description",-1)),p(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).description=l),rows:"3",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"Describe the role and its purpose..."},null,512),[[f,o(s).description]]),o(s).errors.description?(r(),i("div",E,d(o(s).errors.description),1)):m("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"priority",class:"block text-sm font-semibold text-slate-700 mb-2"},"Priority (1-100)",-1)),p(e("input",{id:"priority","onUpdate:modelValue":t[3]||(t[3]=l=>o(s).priority=l),type:"number",min:"1",max:"100",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},null,512),[[f,o(s).priority,void 0,{number:!0}]]),o(s).errors.priority?(r(),i("div",L,d(o(s).errors.priority),1)):m("",!0)]),e("div",O,[e("label",T,[p(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).is_active=l),type:"checkbox",class:"w-5 h-5 text-indigo-600 rounded focus:ring-indigo-400"},null,512),[[A,o(s).is_active]]),t[10]||(t[10]=e("span",{class:"text-sm font-semibold text-slate-700"},"Role is Active",-1))])])])]),e("div",G,[t[12]||(t[12]=e("h2",{class:"text-xl font-bold text-slate-800 mb-6"},"Permissions",-1)),e("div",H,[(r(!0),i(b,null,y(v.permissions,(l,c)=>(r(),i("div",{key:c,class:"border border-slate-200 rounded-2xl p-6"},[e("div",I,[e("h3",J,d(c),1),e("button",{type:"button",onClick:a=>C(c),class:"text-sm text-indigo-600 hover:text-indigo-800 font-medium"},d(l.every(a=>n.value.has(a.id))?"Deselect All":"Select All"),9,K)]),e("div",Q,[(r(!0),i(b,null,y(l,a=>(r(),i("label",{key:a.id,class:"flex items-center space-x-3 p-3 rounded-xl hover:bg-slate-50 transition-colors duration-150 cursor-pointer"},[e("input",{type:"checkbox",checked:n.value.has(a.id),onChange:le=>w(a.id),class:"w-4 h-4 text-indigo-600 rounded focus:ring-indigo-400"},null,40,W),e("div",null,[e("div",X,d(a.name),1),a.description?(r(),i("div",Y,d(a.description),1)):m("",!0)])]))),128))])]))),128))]),o(s).errors.permissions?(r(),i("div",Z,d(o(s).errors.permissions),1)):m("",!0)]),e("div",ee,[x(o(h),{href:u.route("admin.roles.index"),class:"px-6 py-3 border border-slate-300 text-slate-700 rounded-2xl hover:bg-slate-50 transition-colors duration-200"},{default:g(()=>[...t[13]||(t[13]=[D(" Cancel ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:o(s).processing,class:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-8 py-3 rounded-2xl font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50 disabled:transform-none"},[o(s).processing?(r(),i("span",se,"Creating...")):(r(),i("span",oe,"Create Role"))],8,te)])],32)])]),_:1})],64))}};export{ne as default};
