import{r as g,c as r,o as i,a as b,u as M,h as j,w as C,b as e,t as a,d as n,F as c,f as p,g as x,v as u,y as S,n as D,m as f}from"./app--fhtQyYk.js";import{_ as T}from"./DashboardLayout-DwXMIeFU.js";const U={class:"max-w-7xl mx-auto"},$={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},V={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},B={class:"bg-blue-50 rounded-lg p-4"},F={class:"flex items-center"},P={class:"ml-3"},A={class:"text-xl font-bold text-blue-600"},E={class:"bg-green-50 rounded-lg p-4"},z={class:"flex items-center"},L={class:"ml-3"},I={class:"text-xl font-bold text-green-600"},N={class:"bg-purple-50 rounded-lg p-4"},O={class:"flex items-center"},H={class:"ml-3"},W={class:"text-xl font-bold text-purple-600"},q={class:"bg-white rounded-xl shadow-sm p-6 mb-8"},G={class:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center hover:border-gray-400 transition-colors"},R={class:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},Y=["value"],J={class:"mt-4 space-y-4"},K={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Q={class:"flex items-center"},X={class:"flex justify-end"},Z=["disabled"],ee={class:"bg-white rounded-xl shadow-sm"},te={class:"px-6 py-4 border-b border-gray-200 flex justify-between items-center"},se={class:"flex space-x-2"},le={class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"},oe=["value"],ae={key:0,class:"text-center py-12"},re={key:1,class:"divide-y divide-gray-200"},ie={class:"flex items-center justify-between"},ne={class:"flex items-center space-x-4"},de={class:"text-white font-semibold text-sm"},ue={class:"text-lg font-semibold text-gray-900"},ce={class:"text-sm text-gray-600"},pe={class:"flex items-center space-x-4 mt-2"},me={class:"text-xs text-gray-500"},ge={class:"text-xs text-gray-500"},be={class:"text-xs text-gray-500"},xe={class:"text-xs text-gray-500"},fe={class:"flex items-center space-x-2"},ve=["onClick"],ye=["onClick"],he=["onClick"],ke={__name:"Index",props:{materials:Array,subjects:Array,uploadStats:Object},setup(d){const l=g({title:"",subject_id:"",material_type:"",description:"",grade_level:"",duration:"",tags:"",is_public:!1,file:null});g([{id:1,title:"Algebra Fundamentals",subject:"Mathematics",type:"lesson_plan",size:"2.3 MB",downloads:15,created_at:"2024-01-15"},{id:2,title:"Physics Lab Manual",subject:"Physics",type:"reference",size:"5.7 MB",downloads:23,created_at:"2024-01-12"},{id:3,title:"Chemistry Worksheet Set 1",subject:"Chemistry",type:"worksheet",size:"1.8 MB",downloads:31,created_at:"2024-01-10"}]);const v=o=>new Date(o).toLocaleDateString(),y=o=>{const t=`${window.location.origin}/materials/share/${o.id}`;navigator.share?navigator.share({title:o.title,text:`Check out this teaching material: ${o.title}`,url:t}).catch(console.error):navigator.clipboard.writeText(t).then(()=>{alert("Share link copied to clipboard!")}).catch(()=>{const s=document.createElement("textarea");s.value=t,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s),alert("Share link copied to clipboard!")})},h=o=>{const t=document.createElement("a");t.href=`/teacher/materials/${o.id}/download`,t.download=o.file_name||o.title,t.target="_blank",document.body.appendChild(t),t.click(),document.body.removeChild(t)},w=o=>{confirm(`Are you sure you want to delete "${o.title}"? This action cannot be undone.`)&&f.delete(`/teacher/materials/${o.id}`,{onSuccess:()=>{console.log("Material deleted successfully")},onError:t=>{console.error("Delete errors:",t),alert("Error deleting material. Please try again.")}})},_=o=>{const t=Array.from(o.target.files);t.length!==0&&(l.value.file=t[0],console.log(`Selected file: ${t[0].name}, size: ${(t[0].size/1024/1024).toFixed(2)}MB`))},k=()=>{if(!l.value.title||!l.value.subject_id||!l.value.material_type||!l.value.file){alert("Please fill in all required fields and select a file");return}const o=new FormData;Object.keys(l.value).forEach(t=>{l.value[t]!==null&&o.append(t,l.value[t])}),f.post("/teacher/materials",o,{forceFormData:!0,onSuccess:()=>{l.value={title:"",subject_id:"",material_type:"",description:"",grade_level:"",duration:"",tags:"",is_public:!1,file:null},fileInput.value&&(fileInput.value.value="")},onError:t=>{console.error("Upload errors:",t)}})};return(o,t)=>(i(),r(c,null,[b(M(j),{title:"Teaching Materials"}),b(T,{title:"Teaching Materials",subtitle:"Manage and share educational resources with your students"},{default:C(()=>[e("div",U,[e("div",$,[e("div",V,[e("div",B,[e("div",F,[t[10]||(t[10]=e("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[e("span",{class:"text-blue-600 font-semibold text-sm"},"ðŸ“")],-1)),e("div",P,[t[9]||(t[9]=e("p",{class:"text-sm font-medium text-blue-900"},"Total Materials",-1)),e("p",A,a((d.materials||[]).length),1)])])]),e("div",E,[e("div",z,[t[12]||(t[12]=e("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[e("span",{class:"text-green-600 font-semibold text-sm"},"ðŸ“Š")],-1)),e("div",L,[t[11]||(t[11]=e("p",{class:"text-sm font-medium text-green-900"},"This Month",-1)),e("p",I,a(d.uploadStats.this_month),1)])])]),e("div",N,[e("div",O,[t[14]||(t[14]=e("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[e("span",{class:"text-purple-600 font-semibold text-sm"},"ðŸ“š")],-1)),e("div",H,[t[13]||(t[13]=e("p",{class:"text-sm font-medium text-purple-900"},"Subjects",-1)),e("p",W,a((d.subjects||[]).length),1)])])]),t[15]||(t[15]=e("div",{class:"bg-amber-50 rounded-lg p-4"},[e("div",{class:"flex items-center"},[e("div",{class:"w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center"},[e("span",{class:"text-amber-600 font-semibold text-sm"},"ðŸ‘ï¸")]),e("div",{class:"ml-3"},[e("p",{class:"text-sm font-medium text-amber-900"},"Total Views"),e("p",{class:"text-xl font-bold text-amber-600"},"248")])])],-1))])]),e("div",q,[t[30]||(t[30]=e("div",{class:"flex justify-between items-center mb-6"},[e("h2",{class:"text-xl font-semibold text-gray-900"},"Upload New Material")],-1)),e("div",G,[t[16]||(t[16]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400 mb-4",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),t[17]||(t[17]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"},"Upload Teaching Materials",-1)),t[18]||(t[18]=e("p",{class:"text-gray-600 mb-4"},"Drag and drop files here, or click to select",-1)),e("input",{ref:"fileInput",type:"file",accept:".pdf,.doc,.docx,.ppt,.pptx,.jpg,.jpeg,.png,.mp4,.mov,.avi,.mp3,.wav",class:"hidden",onChange:_},null,544),e("button",{onClick:t[0]||(t[0]=s=>o.$refs.fileInput.click()),class:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700"}," Choose Files "),t[19]||(t[19]=e("p",{class:"text-xs text-gray-500 mt-2"},"Supported: PDF, DOC, PPT, images (max 50MB each)",-1))]),e("div",R,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Subject",-1)),n(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.value.subject_id=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[t[20]||(t[20]=e("option",{value:""},"Select Subject",-1)),(i(!0),r(c,null,p(d.subjects,s=>(i(),r("option",{key:s.id,value:s.id},a(s.name),9,Y))),128))],512),[[x,l.value.subject_id]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Material Type",-1)),n(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.value.material_type=s),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"},[...t[22]||(t[22]=[e("option",{value:""},"Select Type",-1),e("option",{value:"lesson_plan"},"Lesson Plan",-1),e("option",{value:"worksheet"},"Worksheet",-1),e("option",{value:"presentation"},"Presentation",-1),e("option",{value:"reference"},"Reference Material",-1),e("option",{value:"assignment"},"Assignment",-1)])],512),[[x,l.value.material_type]])])]),e("div",J,[e("div",null,[t[24]||(t[24]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Title",-1)),n(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.value.title=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter material title"},null,512),[[u,l.value.title]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Description (optional)",-1)),n(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.value.description=s),rows:"3",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of the material"},null,512),[[u,l.value.description]])]),e("div",K,[e("div",null,[t[26]||(t[26]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Grade Level",-1)),n(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.value.grade_level=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., Form 1-4"},null,512),[[u,l.value.grade_level]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Duration (minutes)",-1)),n(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.value.duration=s),type:"number",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 45"},null,512),[[u,l.value.duration]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Tags",-1)),n(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>l.value.tags=s),type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"comma, separated, tags"},null,512),[[u,l.value.tags]])])]),e("div",Q,[n(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.value.is_public=s),type:"checkbox",id:"is_public",class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[S,l.value.is_public]]),t[29]||(t[29]=e("label",{for:"is_public",class:"ml-2 text-sm text-gray-700"},"Make this material public (visible to other teachers)",-1))]),e("div",X,[e("button",{onClick:k,disabled:!l.value.file,class:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed"}," Upload Material ",8,Z)])])]),e("div",ee,[e("div",te,[t[33]||(t[33]=e("h2",{class:"text-lg font-semibold text-gray-900"},"Your Materials",-1)),e("div",se,[t[32]||(t[32]=e("input",{type:"text",placeholder:"Search materials...",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500"},null,-1)),e("select",le,[t[31]||(t[31]=e("option",{value:""},"All Subjects",-1)),(i(!0),r(c,null,p(d.subjects,s=>(i(),r("option",{key:s.id,value:s.id},a(s.name),9,oe))),128))])])]),(d.materials||[]).length===0?(i(),r("div",ae,[...t[34]||(t[34]=[e("div",{class:"text-gray-400 text-6xl mb-4"},"ðŸ“š",-1),e("p",{class:"text-gray-500 text-lg"},"No materials uploaded yet.",-1),e("p",{class:"text-gray-400 text-sm mt-2"},"Upload your first teaching material to get started.",-1)])])):(i(),r("div",re,[(i(!0),r(c,null,p(d.materials,s=>(i(),r("div",{key:s.id,class:"p-6 hover:bg-gray-50 transition-colors"},[e("div",ie,[e("div",ne,[e("div",{class:D(["w-12 h-12 rounded-lg flex items-center justify-center",s.color])},[e("span",de,a(s.icon),1)],2),e("div",null,[e("h3",ue,a(s.title),1),e("p",ce,a(s.subject)+" â€¢ "+a(s.material_type),1),e("div",pe,[e("span",me," ðŸ“… "+a(v(s.created_at)),1),e("span",ge," ðŸ“ "+a(s.file_size),1),e("span",be," ðŸ“¥ "+a(s.download_count)+" downloads ",1),e("span",xe," ðŸ‘ï¸ "+a(s.view_count)+" views ",1)])])]),e("div",fe,[e("button",{onClick:m=>y(s),class:"text-blue-600 hover:text-blue-800 text-sm bg-blue-50 px-3 py-1 rounded"}," Share ",8,ve),e("button",{onClick:m=>h(s),class:"text-green-600 hover:text-green-800 text-sm bg-green-50 px-3 py-1 rounded"}," Download ",8,ye),e("button",{onClick:m=>w(s),class:"text-red-600 hover:text-red-800 text-sm bg-red-50 px-3 py-1 rounded"}," Delete ",8,he)])])]))),128))]))])])]),_:1})],64))}};export{ke as default};
