import{r as u,A as D,J as q,c as n,o,a as I,b as e,u as x,h as E,j as y,w as A,l as V,n as c,t as l,F as j,f as L,E as H,d as N,v as O,e as U,k as P}from"./app-eyie9m1X.js";const W={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 font-sans text-slate-800"},F={class:"h-16 bg-white/90 backdrop-blur-xl border-b border-slate-200/50 px-4 md:px-6 flex items-center justify-between relative z-50"},K={class:"flex items-center space-x-4 flex-1 min-w-0"},Q={class:"min-w-0 flex-1"},G={class:"text-sm md:text-lg font-bold text-slate-800 truncate"},J={class:"flex items-center space-x-3 flex-shrink-0"},R={class:"text-right hidden sm:block"},X={class:"text-sm font-semibold text-slate-800"},Z={class:"text-xs text-slate-500"},Y=["src","alt"],ee={class:"flex h-[calc(100vh-64px)]"},te={class:"p-4 border-b border-slate-200/50"},se={class:"text-sm text-slate-600 mt-1"},oe={class:"p-4 border-b border-slate-200/50"},le={class:"flex items-center justify-between text-sm"},ne={class:"text-slate-800 font-medium"},ie={class:"flex-1 overflow-y-auto"},re=["onClick"],ae={class:"flex items-center justify-between"},de={class:"flex items-center space-x-3"},ce={class:"w-6 h-6 border-2 border-slate-300 rounded-full flex items-center justify-center"},ue={key:0,class:"w-3 h-3 bg-green-500 rounded-full"},he={class:"text-slate-800 font-medium"},xe={class:"text-xs text-slate-500"},ve={key:0,class:"bg-slate-50"},fe={class:"flex items-center space-x-3"},me={class:"flex-shrink-0"},be={key:0,class:"w-5 h-5 text-indigo-500"},ge={key:1,class:"w-5 h-5 text-green-500"},we={key:2,class:"w-5 h-5 text-slate-400"},pe={class:"flex-1 min-w-0"},ke={class:"flex items-center justify-between"},_e={class:"min-w-0 flex-1"},ye={class:"flex items-center space-x-2 mt-1"},je={key:0,class:"text-xs text-slate-500"},Me={key:1,class:"text-xs text-slate-500"},Ce={key:2,class:"text-xs text-slate-500"},Le={class:"flex-shrink-0 ml-2"},ze={key:0,class:"w-5 h-5 text-green-500"},Be={key:1,class:"w-5 h-5 border-2 border-slate-300 rounded-full"},Te={class:"flex-1 flex"},Ie={class:"flex-1 flex flex-col bg-gradient-to-br from-slate-50 to-blue-50"},Ae={class:"bg-white/80 backdrop-blur-xl border-b border-slate-200/50 p-4"},Ve={class:"flex items-center justify-between"},$e={class:"text-xl font-bold text-slate-800"},Se={class:"text-sm text-slate-600 mt-1"},De={class:"flex items-center space-x-3"},qe={class:"text-right"},Ee={class:"text-sm text-slate-600"},He={class:"flex-1 bg-slate-800 relative"},Ne={class:"w-full h-full flex items-center justify-center"},Oe={class:"text-center text-white px-4"},Ue={class:"text-6xl text-white/20 mb-4"},Pe={class:"p-4 border-b border-slate-200/50 bg-gradient-to-r from-green-50 to-emerald-50"},We={class:"flex items-center justify-between"},Fe={class:"flex items-center space-x-3"},Ke={class:"text-lg font-bold text-slate-800"},Qe={class:"text-sm"},Ge={class:"text-xs opacity-75 mt-1"},Je={class:"p-4 border-t border-slate-200/50 bg-slate-50"},Re={class:"text-xs text-slate-600 mb-2 italic"},Xe={class:"flex space-x-2"},Ze=["placeholder"],et={__name:"SubjectPage",props:{auth:Object,subject:Object},setup(a){const d=a,w=d.auth?.user||{name:"Guest",role:"guest",profile_photo_url:null},p=u(!0),g=u(!1),v=u(new Set),f=u(null),m=u(!0),M=u([{id:1,sender:"ai",message:`Hi! I'm your AI ${d.subject.name} tutor. Ask me anything about the lesson or ${d.subject.name.toLowerCase()} topics!`,timestamp:new Date},{id:2,sender:"ai",message:`Welcome to the ${d.subject.name} lesson! I'm here to help you understand any concepts. What would you like to know about ${d.subject.name.toLowerCase()} techniques or practices?`,timestamp:new Date}]),b=u(""),h=u(null),C=()=>{p.value=!p.value},z=()=>{g.value=window.innerWidth<768},$=i=>{v.value.has(i)?v.value.delete(i):v.value.add(i)},k=i=>i.video_path?"video":i.type==="quiz"?"quiz":i.type==="text"?"text":"document",B=i=>Math.random()>.5?100:0,_=()=>{m.value=!m.value},T=()=>{b.value.trim()&&(M.value.push({id:Date.now(),sender:"user",message:b.value.trim(),timestamp:new Date}),b.value.trim(),b.value="",setTimeout(()=>{M.value.push({id:Date.now(),sender:"ai",message:S(),timestamp:new Date}),h.value&&(h.value.scrollTop=h.value.scrollHeight)},1e3))},S=i=>{const t=d.subject.name.toLowerCase(),s=[`That's a great question about ${t}! Let me help you with that concept.`,`In ${t} practices, this relates to fundamental principles and techniques.`,`This topic is fundamental to understanding ${t} concepts.`,`Let me explain how this applies to ${t} techniques and practices.`,`This concept is important for understanding ${t} fundamentals.`];return s[Math.floor(Math.random()*s.length)]};return D(()=>{z(),window.addEventListener("resize",z),d.subject?.topics&&d.subject.topics.forEach(i=>{v.value.add(i.id)}),d.subject?.topics?.[0]?.lessons?.[0]&&(f.value=d.subject.topics[0].lessons[0]),q(()=>{h.value&&(h.value.scrollTop=h.value.scrollHeight)})}),(i,t)=>(o(),n(j,null,[I(x(E),{title:a.subject.name},null,8,["title"]),e("div",W,[e("header",F,[e("div",K,[I(x(V),{href:i.route("subjects.index"),class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 flex-shrink-0"},{default:A(()=>[...t[1]||(t[1]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("button",{onClick:C,class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 lg:hidden"},[...t[2]||(t[2]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("button",{onClick:_,class:c(["p-2 rounded-xl transition-all duration-200 lg:hidden",m.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[3]||(t[3]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",Q,[e("h1",G,l(a.subject?.name),1)])]),e("div",J,[e("button",{onClick:_,class:c(["p-2 rounded-xl transition-all duration-200 hidden lg:block",m.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",R,[e("p",X,l(x(w).name),1),e("p",Z,l(x(w).role),1)]),e("img",{src:x(w).profile_photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face&facepad=2&bg=white",alt:x(w).name,class:"h-8 w-8 md:h-10 md:w-10 rounded-xl ring-2 ring-white shadow-md"},null,8,Y)])]),e("div",ee,[e("div",{class:c(["bg-white/90 backdrop-blur-xl border-r border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",p.value?"w-80":"w-0",g.value?"fixed inset-y-16 left-0 z-40 shadow-xl":""])},[e("div",te,[e("div",{class:"flex items-center justify-between"},[t[6]||(t[6]=e("h2",{class:"text-lg font-bold text-slate-800"},"Subject Content",-1)),e("button",{onClick:C,class:"p-1 hover:bg-slate-100 rounded-lg lg:hidden"},[...t[5]||(t[5]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",se,l(a.subject.topics?.length||0)+"/"+l(a.subject.topics?.length||0),1)]),e("div",oe,[e("div",le,[t[7]||(t[7]=e("span",{class:"text-slate-600"},"Progress",-1)),e("span",ne,"0/"+l(a.subject.topics?.reduce((s,r)=>s+(r.lessons?.length||0),0)||0)+" lessons",1)]),t[8]||(t[8]=e("div",{class:"mt-2 bg-slate-200 rounded-full h-2"},[e("div",{class:"bg-indigo-500 h-2 rounded-full",style:{width:"0%"}})],-1))]),e("div",ie,[(o(!0),n(j,null,L(a.subject?.topics||[],s=>(o(),n("div",{key:s.id,class:"border-b border-slate-200/50"},[e("button",{onClick:r=>$(s.id),class:"w-full p-4 text-left hover:bg-slate-100 transition-colors duration-200"},[e("div",ae,[e("div",de,[e("div",ce,[B()===100?(o(),n("div",ue)):y("",!0)]),e("div",null,[e("h3",he,"Topic "+l(s.order_index+1||1),1),e("p",xe,"0/"+l(s.lessons?.length||0),1)])]),(o(),n("svg",{class:c(["w-5 h-5 text-slate-400 transform transition-transform duration-200",v.value.has(s.id)?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[9]||(t[9]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))])],8,re),v.value.has(s.id)?(o(),n("div",ve,[(o(!0),n(j,null,L(s.lessons||[],r=>(o(),P(x(V),{key:r.id,href:i.route("lessons.show",r.id),class:c(["block py-3 px-6 pl-12 border-l-4 transition-all duration-200 hover:bg-slate-100",f.value?.id===r.id?"border-indigo-500 bg-indigo-50":"border-transparent"])},{default:A(()=>[e("div",fe,[e("div",me,[k(r)==="video"?(o(),n("div",be,[...t[10]||(t[10]=[e("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 5v14l11-7z"})],-1)])])):k(r)==="quiz"?(o(),n("div",ge,[...t[11]||(t[11]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])):(o(),n("div",we,[...t[12]||(t[12]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),e("div",pe,[e("div",ke,[e("div",_e,[e("p",{class:c(["text-sm font-medium truncate",f.value?.id===r.id?"text-indigo-600":"text-slate-800"])},l(s.order_index+1||1)+"."+l(r.order_index+1||1)+" "+l(r.title),3),e("div",ye,[k(r)==="video"?(o(),n("span",je," MULTIMEDIA ")):k(r)==="quiz"?(o(),n("span",Me," QUIZ - 18 QUESTIONS ")):(o(),n("span",Ce," TEXT "))])]),e("div",Le,[B(r)===100?(o(),n("div",ze,[...t[13]||(t[13]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):(o(),n("div",Be))])])])])]),_:2},1032,["href","class"]))),128))])):y("",!0)]))),128))])],2),e("div",Te,[e("div",Ie,[e("div",Ae,[e("div",Ve,[e("div",null,[e("h1",$e,l(f.value?.title||"1.1 Lesson Introduction"),1),e("p",Se,l(f.value?.topic?.name||"Topic 1"),1)]),e("div",De,[e("div",qe,[e("p",Ee,"Lesson "+l(f.value?.order_index+1||1),1)]),t[14]||(t[14]=e("button",{class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200"},[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})])],-1))])])]),e("div",He,[e("div",Ne,[e("div",Oe,[e("div",Ue,l(a.subject.name.charAt(0)),1),t[15]||(t[15]=H('<h3 class="text-2xl font-medium mb-2 text-white/80">Topic 1</h3><h2 class="text-4xl font-bold mb-8">Lesson Introduction</h2><div class="mt-8 flex items-center justify-center space-x-4"><button class="w-14 h-14 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-colors"><svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg></button></div><div class="mt-6 flex items-center justify-between max-w-lg mx-auto"><span class="text-sm text-white/80">36:08</span><div class="flex-1 mx-4 h-1 bg-white/20 rounded-full"><div class="h-full bg-white/70 rounded-full" style="width:35%;"></div></div><div class="flex space-x-1"><div class="w-2 h-2 bg-white/60 rounded-sm"></div><div class="w-2 h-2 bg-white/60 rounded-sm"></div><div class="w-2 h-2 bg-white/60 rounded-sm"></div><div class="w-2 h-2 bg-white/60 rounded-sm"></div><div class="w-2 h-2 bg-white/60 rounded-sm"></div><div class="w-2 h-2 bg-white/60 rounded-sm"></div></div></div>',4))])])])]),e("div",{class:c(["bg-white border-l border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",m.value?"w-96":"w-0",g.value?"fixed inset-y-16 right-0 z-40 shadow-xl":""])},[e("div",Pe,[e("div",We,[e("div",Fe,[t[17]||(t[17]=e("div",{class:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h3",Ke,"AI "+l(a.subject?.name)+" Tutor",1),t[16]||(t[16]=e("div",{class:"flex items-center space-x-1"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{class:"text-sm text-green-600 font-medium"},"Online")],-1))])]),e("button",{onClick:_,class:"p-1 hover:bg-white/50 rounded-lg"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",{ref_key:"chatContainer",ref:h,class:"flex-1 overflow-y-auto p-4 space-y-4"},[(o(!0),n(j,null,L(M.value,s=>(o(),n("div",{key:s.id,class:c(["flex",s.sender==="user"?"justify-end":"justify-start"])},[e("div",{class:c(["max-w-xs lg:max-w-md px-4 py-3 rounded-2xl",s.sender==="user"?"bg-indigo-500 text-white rounded-br-md":"bg-green-500 text-white rounded-bl-md"])},[e("p",Qe,l(s.message),1),e("p",Ge,l(s.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)],2)],2))),128))],512),e("div",Je,[e("p",Re," Hi! I'm your AI "+l(a.subject.name)+" tutor. Ask me anything about the lesson or "+l(a.subject.name.toLowerCase())+" topics! ",1),e("div",Xe,[N(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),onKeyup:U(T,["enter"]),type:"text",placeholder:`Ask me anything about ${a.subject.name.toLowerCase()}...`,class:"flex-1 px-3 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"},null,40,Ze),[[O,b.value]]),e("button",{onClick:T,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors duration-200"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])])])])],2)])]),g.value&&p.value?(o(),n("div",{key:0,onClick:C,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):y("",!0),g.value&&m.value?(o(),n("div",{key:1,onClick:_,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):y("",!0)])],64))}};export{et as default};
