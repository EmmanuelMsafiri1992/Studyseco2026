import{r as u,s as v,z as ne,A as ie,c as l,o as r,a as Y,u as de,h as ue,w as ce,b as t,j as c,t as a,i as V,d as f,v as $,F as m,f as h,g as q,n as L,q as ge,y as pe,B as j}from"./app-qZFDf0Ah.js";import{_ as xe}from"./DashboardLayout-jaqNmyqo.js";const ve={class:"py-6"},fe={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mb-6"},me={class:"flex items-center justify-between"},ye={key:0,class:"text-right"},be={class:"text-2xl font-bold text-purple-600"},he={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},_e={key:0,class:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl"},we={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6"},ke={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ce={class:"text-2xl font-bold text-gray-800"},Ae={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Se={class:"text-2xl font-bold text-green-600"},Ve={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Le={class:"text-2xl font-bold text-amber-600"},je={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Be={class:"text-2xl font-bold text-blue-600"},Ge={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Fe={class:"text-2xl font-bold text-purple-600"},Ee={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Me={class:"text-2xl font-bold text-green-600"},Ne={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ue={class:"text-2xl font-bold text-red-600"},ze={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl"},$e={class:"flex items-center space-x-3"},Pe={class:"text-red-700"},He={key:2,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl"},Te={class:"flex items-center space-x-3"},qe={class:"text-green-700"},De={key:3,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Oe={class:"lg:col-span-2 space-y-6"},Qe={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ie={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Re=["value"],We={class:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ye={class:"flex items-center space-x-4"},Ke={class:"flex items-center space-x-4"},Je={class:"text-sm text-gray-600"},Xe={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Ze={class:"max-h-[500px] overflow-y-auto"},et={class:"w-full"},tt={class:"bg-gray-50 sticky top-0"},st={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10"},ot=["checked"],lt={class:"divide-y divide-gray-100"},rt=["onClick"],at={class:"px-4 py-3"},nt=["checked","onChange"],it={class:"px-4 py-3"},dt={class:"font-medium text-gray-800 text-sm"},ut={class:"px-4 py-3"},ct={class:"text-xs text-gray-500"},gt={class:"text-xs text-gray-400"},pt={class:"px-4 py-3"},xt={key:0,class:"p-8 text-center text-gray-500"},vt={key:0,class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},ft={class:"space-y-4 max-h-[400px] overflow-y-auto"},mt={class:"flex items-center justify-between mb-2"},yt={class:"font-medium text-gray-700 text-sm"},bt=["onClick"],ht=["onUpdate:modelValue"],_t={class:"text-xs text-gray-400 mt-1"},wt={class:"space-y-6"},kt={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ct={class:"mb-4"},At={class:"flex items-center space-x-2"},St={class:"mb-4"},Vt={class:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto"},Lt=["onClick"],jt=["src","alt"],Bt={key:1,class:"w-12 h-12 bg-gray-200 rounded-lg mx-auto mb-1 flex items-center justify-center"},Gt={class:"text-xs text-gray-600 truncate text-center"},Ft={class:"flex space-x-2 mb-2"},Et=["value"],Mt={class:"space-y-1 max-h-48 overflow-y-auto"},Nt=["onClick"],Ut={class:"font-medium text-gray-700 text-sm"},zt={class:"text-xs text-gray-500"},$t={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Pt={class:"mb-4 text-sm text-gray-600"},Ht={class:"font-semibold text-purple-600"},Tt={class:"font-semibold text-purple-600"},qt=["disabled"],Dt={key:0,class:"flex items-center justify-center space-x-2"},Ot={key:1},Qt={key:0,class:"mt-2 text-xs text-amber-600"},It={key:0,class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Rt={class:"space-y-2 max-h-48 overflow-y-auto"},Wt={class:"text-sm text-blue-800 truncate flex-1"},Jt={__name:"BulkGenerate",props:{subjects:Array,lessonsNeedingVideos:Array,lessonsGenerating:Array,stats:Object,heygenConfigured:Boolean,avatars:Array,voices:Array,credits:Object},setup(d){const C=d,i=u([]),g=u({}),B=u(null),G=u(null),D=u({}),O=u({}),_=u(!0),A=u(!1),y=u(null),w=u(null),F=u(""),k=u("all"),E=u(""),M=u(""),N=u(""),U=u("");let x=null;const K=u({}),p=v(()=>{const o=[];return C.subjects.forEach(e=>{e.topics?.forEach(s=>{s.lessons?.forEach(n=>{o.push({...n,topic_name:s.name,subject_name:e.name,subject_id:e.id})})})}),o}),b=v(()=>{let o=p.value;if(F.value&&(o=o.filter(e=>e.subject_id===parseInt(F.value))),k.value==="no_video"?o=o.filter(e=>!e.video_path):k.value==="has_video"?o=o.filter(e=>e.video_path):k.value==="generating"?o=o.filter(e=>["pending","processing"].includes(e.heygen_status)):k.value==="failed"&&(o=o.filter(e=>e.heygen_status==="failed")),E.value){const e=E.value.toLowerCase();o=o.filter(s=>s.title.toLowerCase().includes(e)||s.topic_name?.toLowerCase().includes(e)||s.subject_name?.toLowerCase().includes(e))}return o}),J=v(()=>{let o=C.avatars||[];if(M.value){const e=M.value.toLowerCase();o=o.filter(s=>s.avatar_name?.toLowerCase().includes(e)||s.avatar_id?.toLowerCase().includes(e))}return o.slice(0,30)}),X=v(()=>{let o=C.voices||[];if(U.value&&(o=o.filter(e=>e.language===U.value)),N.value){const e=N.value.toLowerCase();o=o.filter(s=>s.voice_name?.toLowerCase().includes(e)||s.voice_id?.toLowerCase().includes(e))}return o.slice(0,30)}),Z=v(()=>{const o=new Set((C.voices||[]).map(e=>e.language).filter(Boolean));return Array.from(o).sort()}),z=v(()=>{if(i.value.length===0||_.value&&(!B.value||!G.value))return!1;for(const o of i.value){const e=g.value[o];if(!e||e.trim().length<10||!_.value&&(!D.value[o]||!O.value[o]))return!1}return!0}),P=v(()=>i.value.length),ee=v(()=>i.value.length*4),Q=o=>{const e=i.value.indexOf(o);e===-1?(i.value.push(o),g.value[o]||p.value.find(n=>n.id===o)&&H(o)):i.value.splice(e,1)},I=()=>{i.value=b.value.map(o=>o.id),i.value.forEach(o=>{g.value[o]||H(o)})},R=()=>{i.value=[]},H=async o=>{try{const e=await j.post(route("admin.heygen.suggest-script"),{lesson_id:o});e.data.success&&(g.value[o]=e.data.script)}catch(e){console.error("Error generating script:",e);const s=p.value.find(n=>n.id===o);s&&(g.value[o]=`Welcome to this lesson on ${s.title}. ${s.description||""} Let's begin!`)}},te=async()=>{if(!z.value)return;A.value=!0,y.value=null,w.value=null;const o=i.value.map(e=>({id:e,script:g.value[e],avatar_id:_.value?B.value:D.value[e],voice_id:_.value?G.value:O.value[e]}));try{const e=await j.post(route("admin.heygen.generate"),{lessons:o});e.data.success?(w.value=e.data.message,T(),i.value=[]):y.value=e.data.errors?.join(", ")||"Failed to queue videos"}catch(e){y.value=e.response?.data?.message||"Failed to generate videos"}finally{A.value=!1}},T=()=>{x&&clearInterval(x),W(),x=setInterval(W,5e3)},W=async()=>{const o=p.value.filter(e=>["pending","processing"].includes(e.heygen_status)).map(e=>e.id);if(o.length===0){x&&(clearInterval(x),x=null);return}try{const e=await j.post(route("admin.heygen.status"),{lesson_ids:o});e.data.success&&(K.value=e.data.lessons,Object.entries(e.data.lessons).forEach(([s,n])=>{const S=p.value.find(ae=>ae.id===parseInt(s));S&&(S.heygen_status=n.heygen_status,S.video_path=n.video_path)}))}catch(e){console.error("Error polling statuses:",e)}},se=async()=>{const o=p.value.filter(e=>["pending","processing"].includes(e.heygen_status)).map(e=>e.id);if(o.length!==0)try{const e=await j.post(route("admin.heygen.cancel-bulk"),{lesson_ids:o});e.data.success&&(w.value=e.data.message,o.forEach(s=>{const n=p.value.find(S=>S.id===s);n&&(n.heygen_status="failed")}))}catch{y.value="Failed to cancel generations"}},oe=async()=>{const o=p.value.filter(e=>e.heygen_status==="failed").map(e=>e.id);if(o.length!==0)try{const e=await j.post(route("admin.heygen.retry-failed"),{lesson_ids:o});e.data.success&&(w.value=e.data.message,T())}catch{y.value="Failed to retry generations"}},le=o=>{switch(o){case"completed":return"text-green-600 bg-green-100";case"processing":case"pending":return"text-blue-600 bg-blue-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},re=o=>{switch(o){case"completed":return"Completed";case"processing":return"Processing";case"pending":return"Queued";case"failed":return"Failed";default:return"No Video"}};return ne(()=>{C.lessonsGenerating?.length>0&&T()}),ie(()=>{x&&clearInterval(x)}),(o,e)=>(r(),l(m,null,[Y(de(ue),{title:"Bulk AI Video Generation"}),Y(xe,null,{default:ce(()=>[t("div",ve,[t("div",fe,[t("div",me,[e[10]||(e[10]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-800"},"Bulk AI Video Generation"),t("p",{class:"text-sm text-gray-500 mt-1"},"Generate AI avatar videos for multiple lessons at once")],-1)),d.credits?(r(),l("div",ye,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-500"},"HeyGen Credits",-1)),t("p",be,a(d.credits.remaining_quota||"N/A"),1)])):c("",!0)])]),t("div",he,[d.heygenConfigured?c("",!0):(r(),l("div",_e,[...e[11]||(e[11]=[t("div",{class:"flex items-start space-x-3"},[t("svg",{class:"w-6 h-6 text-amber-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),t("div",null,[t("h4",{class:"font-semibold text-amber-800"},"HeyGen API Not Configured"),t("p",{class:"text-sm text-amber-700 mt-1"},[V(" Add your HeyGen API key to "),t("code",{class:"bg-amber-100 px-2 py-0.5 rounded"},".env"),V(": "),t("code",{class:"bg-amber-100 px-2 py-0.5 rounded block mt-1"},"HEYGEN_API_KEY=your_api_key")])])],-1)])])),t("div",we,[t("div",ke,[e[12]||(e[12]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Total",-1)),t("p",Ce,a(d.stats.total_lessons),1)]),t("div",Ae,[e[13]||(e[13]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"With Video",-1)),t("p",Se,a(d.stats.lessons_with_video),1)]),t("div",Ve,[e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"No Video",-1)),t("p",Le,a(d.stats.lessons_without_video),1)]),t("div",je,[e[15]||(e[15]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Queued",-1)),t("p",Be,a(d.stats.heygen_pending),1)]),t("div",Ge,[e[16]||(e[16]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Processing",-1)),t("p",Fe,a(d.stats.heygen_processing),1)]),t("div",Ee,[e[17]||(e[17]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Completed",-1)),t("p",Me,a(d.stats.heygen_completed),1)]),t("div",Ne,[e[18]||(e[18]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Failed",-1)),t("p",Ue,a(d.stats.heygen_failed),1)])]),y.value?(r(),l("div",ze,[t("div",$e,[e[19]||(e[19]=t("svg",{class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",Pe,a(y.value),1)])])):c("",!0),w.value?(r(),l("div",He,[t("div",Te,[e[20]||(e[20]=t("svg",{class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("p",qe,a(w.value),1)])])):c("",!0),d.heygenConfigured?(r(),l("div",De,[t("div",Oe,[t("div",Qe,[t("div",Ie,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Search",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>E.value=s),type:"text",placeholder:"Search lessons...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,E.value]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Subject",-1)),f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>F.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[e[22]||(e[22]=t("option",{value:""},"All Subjects",-1)),(r(!0),l(m,null,h(d.subjects,s=>(r(),l("option",{key:s.id,value:s.id},a(s.name),9,Re))),128))],512),[[q,F.value]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Status",-1)),f(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>k.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...e[24]||(e[24]=[t("option",{value:"all"},"All Lessons",-1),t("option",{value:"no_video"},"No Video",-1),t("option",{value:"has_video"},"Has Video",-1),t("option",{value:"generating"},"Generating",-1),t("option",{value:"failed"},"Failed",-1)])],512),[[q,k.value]])])])]),t("div",We,[t("div",Ye,[t("button",{onClick:I,class:"text-sm text-purple-600 hover:text-purple-800 font-medium"}," Select All ("+a(b.value.length)+") ",1),t("button",{onClick:R,class:"text-sm text-gray-600 hover:text-gray-800 font-medium"}," Deselect All ")]),t("div",Ke,[t("span",Je,a(P.value)+" selected ",1),d.stats.heygen_failed>0?(r(),l("button",{key:0,onClick:oe,class:"px-3 py-1 text-sm bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200"}," Retry Failed ")):c("",!0),d.stats.heygen_pending+d.stats.heygen_processing>0?(r(),l("button",{key:1,onClick:se,class:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200"}," Cancel All ")):c("",!0)])]),t("div",Xe,[t("div",Ze,[t("table",et,[t("thead",tt,[t("tr",null,[t("th",st,[t("input",{type:"checkbox",checked:i.value.length===b.value.length&&b.value.length>0,onChange:e[3]||(e[3]=s=>i.value.length===b.value.length?R():I()),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,40,ot)]),e[26]||(e[26]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lesson",-1)),e[27]||(e[27]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject / Topic",-1)),e[28]||(e[28]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1))])]),t("tbody",lt,[(r(!0),l(m,null,h(b.value,s=>(r(),l("tr",{key:s.id,class:L(["hover:bg-gray-50 cursor-pointer transition-colors",i.value.includes(s.id)?"bg-purple-50":""]),onClick:n=>Q(s.id)},[t("td",at,[t("input",{type:"checkbox",checked:i.value.includes(s.id),onClick:e[4]||(e[4]=ge(()=>{},["stop"])),onChange:n=>Q(s.id),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,40,nt)]),t("td",it,[t("p",dt,a(s.title),1)]),t("td",ut,[t("p",ct,a(s.subject_name),1),t("p",gt,a(s.topic_name),1)]),t("td",pt,[t("span",{class:L(["px-2 py-1 text-xs font-medium rounded-full",le(s.heygen_status||(s.video_path?"completed":"none"))])},a(s.video_path?"Has Video":re(s.heygen_status)),3)])],10,rt))),128))])]),b.value.length===0?(r(),l("div",xt," No lessons found matching your filters. ")):c("",!0)])]),i.value.length>0?(r(),l("div",vt,[e[29]||(e[29]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Scripts for Selected Lessons",-1)),t("div",ft,[(r(!0),l(m,null,h(i.value,s=>(r(),l("div",{key:s,class:"border border-gray-200 rounded-lg p-4"},[t("div",mt,[t("p",yt,a(p.value.find(n=>n.id===s)?.title),1),t("button",{onClick:n=>H(s),class:"text-xs text-purple-600 hover:text-purple-800"}," Regenerate Script ",8,bt)]),f(t("textarea",{"onUpdate:modelValue":n=>g.value[s]=n,rows:"3",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Enter the script for this lesson..."},null,8,ht),[[$,g.value[s]]]),t("p",_t,a((g.value[s]||"").length)+" characters",1)]))),128))])])):c("",!0)]),t("div",wt,[t("div",kt,[e[35]||(e[35]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Avatar & Voice Settings",-1)),t("div",Ct,[t("label",At,[f(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),type:"checkbox",class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,512),[[pe,_.value]]),e[30]||(e[30]=t("span",{class:"text-sm text-gray-700"},"Use same avatar & voice for all lessons",-1))])]),t("div",St,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Avatar",-1)),f(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>M.value=s),type:"text",placeholder:"Search avatars...",class:"w-full px-3 py-2 mb-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,M.value]]),t("div",Vt,[(r(!0),l(m,null,h(J.value,s=>(r(),l("button",{key:s.avatar_id,onClick:n=>B.value=s.avatar_id,class:L(["p-2 border-2 rounded-lg transition-all duration-200",B.value===s.avatar_id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"])},[s.preview_image_url?(r(),l("img",{key:0,src:s.preview_image_url,alt:s.avatar_name,class:"w-12 h-12 object-cover rounded-lg mx-auto mb-1"},null,8,jt)):(r(),l("div",Bt,[...e[31]||(e[31]=[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])])),t("p",Gt,a(s.avatar_name||s.avatar_id),1)],10,Lt))),128))])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Voice",-1)),t("div",Ft,[f(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>N.value=s),type:"text",placeholder:"Search...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,N.value]]),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>U.value=s),class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[e[33]||(e[33]=t("option",{value:""},"All",-1)),(r(!0),l(m,null,h(Z.value,s=>(r(),l("option",{key:s,value:s},a(s),9,Et))),128))],512),[[q,U.value]])]),t("div",Mt,[(r(!0),l(m,null,h(X.value,s=>(r(),l("button",{key:s.voice_id,onClick:n=>G.value=s.voice_id,class:L(["w-full p-2 border-2 rounded-lg text-left transition-all duration-200",G.value===s.voice_id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"])},[t("p",Ut,a(s.voice_name||s.voice_id),1),t("p",zt,a(s.language)+" - "+a(s.gender||"Unknown"),1)],10,Nt))),128))])])]),t("div",$t,[t("div",Pt,[t("p",null,[e[36]||(e[36]=V("Selected: ",-1)),t("span",Ht,a(P.value),1),e[37]||(e[37]=V(" lessons",-1))]),t("p",null,[e[38]||(e[38]=V("Est. credits: ",-1)),t("span",Tt,"~"+a(ee.value),1)])]),t("button",{onClick:te,disabled:!z.value||A.value,class:L(["w-full py-3 px-4 font-semibold rounded-xl transition-all duration-200",z.value&&!A.value?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[A.value?(r(),l("span",Dt,[...e[39]||(e[39]=[t("svg",{class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1),t("span",null,"Queueing...",-1)])])):(r(),l("span",Ot,"Generate "+a(P.value)+" Videos",1))],10,qt),!z.value&&i.value.length>0?(r(),l("p",Qt," Please ensure all selected lessons have scripts and avatar/voice settings. ")):c("",!0)]),d.lessonsGenerating.length>0?(r(),l("div",It,[e[41]||(e[41]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Currently Generating",-1)),t("div",Rt,[(r(!0),l(m,null,h(d.lessonsGenerating,s=>(r(),l("div",{key:s.id,class:"flex items-center space-x-3 p-2 bg-blue-50 rounded-lg"},[e[40]||(e[40]=t("svg",{class:"w-4 h-4 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)),t("p",Wt,a(s.title),1)]))),128))])])):c("",!0)])])):c("",!0)])])]),_:1})],64))}};export{Jt as default};
