import{r as f,p as A,s as k,z as F,A as I,c as i,o as n,a as z,u as v,h as M,w as R,b as e,n as S,t as r,S as L,F as h,f as V,j as N,d as p,I as _,v as Q}from"./app-qZFDf0Ah.js";import{_ as B}from"./DashboardLayout-jaqNmyqo.js";const E={class:"max-w-4xl mx-auto"},O={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-4 mb-6 sticky top-4 z-10"},D={class:"flex items-center justify-between"},P={class:"flex-1 mx-6"},Y={class:"w-full bg-slate-200 rounded-full h-2"},G={class:"space-y-6"},H={class:"flex items-start gap-3 mb-4"},J={class:"flex-shrink-0 w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-medium text-sm"},K={class:"flex-1"},W={class:"text-lg font-medium text-slate-900 mb-1"},X={class:"text-sm text-slate-500"},Z={key:0,class:"ml-11 space-y-2"},q=["name","value","onUpdate:modelValue"],ee={class:"ml-3 text-slate-700"},te={key:1,class:"ml-11 space-y-2"},se={class:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors"},oe=["name","onUpdate:modelValue"],le={class:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors"},ae=["name","onUpdate:modelValue"],ie={key:2,class:"ml-11"},ne=["onUpdate:modelValue"],re={class:"mt-6 bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},de={class:"flex items-center justify-between"},ue=["disabled"],pe={__name:"Take",props:{attempt:Object,quiz:Object,questions:Array,timeRemaining:Number},setup(d){const u=d,o=f({}),c=f(u.timeRemaining),b=f(null),m=A({answers:[]});u.questions.forEach(l=>{o.value[l.id]=""});const U=()=>{b.value=setInterval(()=>{c.value>0?c.value--:x()},1e3)},C=l=>{const s=Math.floor(l/60),t=l%60;return`${s}:${t.toString().padStart(2,"0")}`},g=k(()=>c.value/u.timeRemaining*100),T=k(()=>{const l=g.value;return l>50?"text-green-600":l>25?"text-yellow-600":"text-red-600"}),x=()=>{const l=Object.entries(o.value).map(([s,t])=>({question_id:parseInt(s),answer:t.toString()}));m.answers=l,m.post(route("student.quizzes.submit",u.attempt.id))},w=()=>{confirm("Are you sure you want to submit? You cannot change your answers after submission.")&&x()};return F(()=>{U()}),I(()=>{b.value&&clearInterval(b.value)}),(l,s)=>(n(),i(h,null,[z(v(M),{title:`Take Quiz: ${d.quiz.title}`},null,8,["title"]),z(B,{title:d.quiz.title,subtitle:"Answer all questions"},{default:R(()=>[e("div",E,[e("div",O,[e("div",D,[e("div",null,[s[0]||(s[0]=e("p",{class:"text-sm text-slate-600"},"Time Remaining",-1)),e("p",{class:S(["text-2xl font-bold",T.value])},r(C(c.value)),3)]),e("div",P,[e("div",Y,[e("div",{class:S(["h-2 rounded-full transition-all",g.value>25?"bg-green-600":"bg-red-600"]),style:L(`width: ${g.value}%`)},null,6)])]),e("button",{onClick:w,class:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium"}," Submit Quiz ")])]),e("div",G,[(n(!0),i(h,null,V(d.questions,(t,$)=>(n(),i("div",{key:t.id,class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},[e("div",H,[e("span",J,r($+1),1),e("div",K,[e("p",W,r(t.question),1),e("p",X,r(t.points)+" "+r(t.points===1?"point":"points"),1)])]),t.type==="multiple_choice"?(n(),i("div",Z,[(n(!0),i(h,null,V(t.options,(a,y)=>(n(),i("label",{key:y,class:"flex items-center p-3 border border-slate-200 rounded-lg hover:bg-slate-50 cursor-pointer transition-colors"},[p(e("input",{type:"radio",name:`question-${t.id}`,value:a,"onUpdate:modelValue":j=>o.value[t.id]=j,class:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"},null,8,q),[[_,o.value[t.id]]]),e("span",ee,r(String.fromCharCode(65+y))+". "+r(a),1)]))),128))])):t.type==="true_false"?(n(),i("div",te,[e("label",se,[p(e("input",{type:"radio",name:`question-${t.id}`,value:"True","onUpdate:modelValue":a=>o.value[t.id]=a,class:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"},null,8,oe),[[_,o.value[t.id]]]),s[1]||(s[1]=e("span",{class:"ml-3 text-slate-700"},"True",-1))]),e("label",le,[p(e("input",{type:"radio",name:`question-${t.id}`,value:"False","onUpdate:modelValue":a=>o.value[t.id]=a,class:"w-4 h-4 text-indigo-600 focus:ring-indigo-500"},null,8,ae),[[_,o.value[t.id]]]),s[2]||(s[2]=e("span",{class:"ml-3 text-slate-700"},"False",-1))])])):t.type==="short_answer"?(n(),i("div",ie,[p(e("input",{type:"text","onUpdate:modelValue":a=>o.value[t.id]=a,class:"w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Enter your answer..."},null,8,ne),[[Q,o.value[t.id]]])])):N("",!0)]))),128))]),e("div",re,[e("div",de,[s[3]||(s[3]=e("p",{class:"text-sm text-slate-600"}," Make sure you've answered all questions before submitting. ",-1)),e("button",{onClick:w,disabled:v(m).processing,class:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed"},r(v(m).processing?"Submitting...":"Submit Quiz"),9,ue)])])])]),_:1},8,["title"])],64))}};export{pe as default};
