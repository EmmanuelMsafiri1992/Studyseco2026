import{D as P,r as _,p as S,c as i,o as u,b as o,j as m,a,u as t,S as V,q as f,d as N,i as p,w as v,l as C,I as B,T as I}from"./app-pY9rZ_j6.js";import{_ as g}from"./InputError-BUmvIIzd.js";import{_ as h,a as b}from"./TextInput-CwsukpF7.js";import{P as U}from"./PrimaryButton-B-IzqCDs.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={key:0,class:"mt-2"},$=["src","alt"],q={key:1,class:"mt-2"},D={class:"mt-2 flex items-center gap-2"},F={key:0},R={class:"mt-2 text-sm text-gray-800"},T={class:"mt-2 text-sm font-medium text-green-600"},j={class:"flex items-center gap-4"},A={key:0,class:"text-sm text-gray-600"},H={__name:"UpdateProfileInformationForm",props:{mustVerifyEmail:{type:Boolean},status:{type:String}},setup(y){const r=P().props.auth.user,d=_(null),c=_(null),s=S({name:r.name,email:r.email,profile_photo:null}),x=()=>{c.value.click()},k=()=>{const l=c.value.files[0];if(!l)return;s.profile_photo=l;const e=new FileReader;e.onload=n=>{d.value=n.target.result},e.readAsDataURL(l)},w=()=>{s.delete(route("profile.photo.destroy"),{preserveScroll:!0,onSuccess:()=>{d.value=null,c.value.value=null,s.profile_photo=null}})};return(l,e)=>(u(),i("section",null,[e[6]||(e[6]=o("header",null,[o("h2",{class:"text-lg font-medium text-gray-900"}," Profile Information "),o("p",{class:"mt-1 text-sm text-gray-600"}," Update your account's profile information and email address. ")],-1)),o("form",{onSubmit:e[2]||(e[2]=f(n=>t(s).post(l.route("profile.update"),{preserveScroll:!0}),["prevent"])),class:"mt-6 space-y-6"},[o("div",null,[a(h,{for:"photo",value:"Profile Photo"}),t(r).profile_photo_url&&!d.value?(u(),i("div",E,[o("img",{src:t(r).profile_photo_url,alt:t(r).name,class:"rounded-full h-20 w-20 object-cover"},null,8,$)])):m("",!0),d.value?(u(),i("div",q,[o("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:V("background-image: url('"+d.value+"');")},null,4)])):m("",!0),o("input",{type:"file",ref_key:"photoInput",ref:c,class:"hidden",onChange:k,accept:"image/*"},null,544),o("div",D,[o("button",{type:"button",onClick:f(x,["prevent"]),class:"px-4 py-2 bg-white border border-gray-300 rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 disabled:opacity-25 transition ease-in-out duration-150"}," Select New Photo "),t(r).profile_photo_url?(u(),i("button",{key:0,type:"button",onClick:f(w,["prevent"]),class:"px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-500 active:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"}," Remove Photo ")):m("",!0)]),a(g,{message:t(s).errors.profile_photo,class:"mt-2"},null,8,["message"])]),o("div",null,[a(h,{for:"name",value:"Name"}),a(b,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:t(s).name,"onUpdate:modelValue":e[0]||(e[0]=n=>t(s).name=n),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(g,{class:"mt-2",message:t(s).errors.name},null,8,["message"])]),o("div",null,[a(h,{for:"email",value:"Email"}),a(b,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t(s).email,"onUpdate:modelValue":e[1]||(e[1]=n=>t(s).email=n),required:"",autocomplete:"username"},null,8,["modelValue"]),a(g,{class:"mt-2",message:t(s).errors.email},null,8,["message"])]),y.mustVerifyEmail&&t(r).email_verified_at===null?(u(),i("div",F,[o("p",R,[e[4]||(e[4]=p(" Your email address is unverified. ",-1)),a(t(C),{href:l.route("verification.send"),method:"post",as:"button",class:"rounded-md text-sm text-gray-600 underline hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},{default:v(()=>[...e[3]||(e[3]=[p(" Click here to re-send the verification email. ",-1)])]),_:1},8,["href"])]),N(o("div",T," A new verification link has been sent to your email address. ",512),[[B,y.status==="verification-link-sent"]])])):m("",!0),o("div",j,[a(U,{disabled:t(s).processing},{default:v(()=>[...e[5]||(e[5]=[p("Save",-1)])]),_:1},8,["disabled"]),a(I,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:v(()=>[t(s).recentlySuccessful?(u(),i("p",A," Saved. ")):m("",!0)]),_:1})])],32)]))}};export{H as default};
