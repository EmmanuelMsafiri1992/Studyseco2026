import{p as F,r as x,z as I,c as l,o as n,a as g,u as o,h as L,w as h,b as t,q as D,j as d,t as i,d as u,v as m,i as y,F as b,f as w,g as k,l as q}from"./app-DjJQmXbQ.js";import{_ as B}from"./DashboardLayout-8UNPPvWh.js";const T={class:"space-y-6"},E={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50"},G={class:"mb-8"},z={class:"flex items-center space-x-6"},H={class:"w-24 h-24 rounded-2xl bg-gradient-to-br from-indigo-100 to-purple-100 flex items-center justify-center overflow-hidden"},J=["src"],O={key:1,class:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={key:0,class:"mt-2 text-sm text-red-600"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},$={key:0,class:"mt-1 text-sm text-red-600"},K={key:0,class:"mt-1 text-sm text-red-600"},Q=["value"],W={key:0,class:"mt-1 text-sm text-red-600"},X=["value"],Z={key:0,class:"mt-1 text-sm text-red-600"},ee={key:0,class:"mt-1 text-sm text-red-600"},te={key:0,class:"mt-1 text-sm text-red-600"},se={class:"mb-6"},oe={key:0,class:"mt-1 text-sm text-red-600"},re={class:"flex justify-end space-x-4"},le=["disabled"],ne={key:0},ae={key:1},ue={__name:"Create",props:{auth:Object,departments:Array},setup(_){const c=_;c.auth?.user;const s=F({name:"",code:"",description:"",department:"",grade_level:"",credits:1,teacher_name:"",cover_image:null}),p=x(null),f=x(null),v=x(!1),S=a=>{if(!a||a.trim()==="")return"";const e=a.trim().split(/\s+/);let r="";e.length===1?r=e[0].substring(0,4).toUpperCase():r=e.slice(0,4).map(A=>A.charAt(0)).join("").toUpperCase();const U=Math.floor(100+Math.random()*900);return r+U};I(()=>s.name,a=>{v.value||(s.code=S(a))});const j=()=>{v.value=!0},C=()=>{p.value.click()},M=()=>{const a=p.value.files[0];if(a){s.cover_image=a;const e=new FileReader;e.onload=r=>{f.value=r.target.result},e.readAsDataURL(a)}},V=()=>{s.post(route("subjects.store"),{preserveScroll:!0,onSuccess:()=>{},onError:a=>{console.error("Form errors:",a)}})},N=["Form 1","Form 2","Form 3","Form 4"],P=c.departments&&c.departments.length>0?c.departments:[{name:"Mathematics"},{name:"Sciences"},{name:"Languages"},{name:"Social Studies"},{name:"Commercial Subjects"},{name:"Technical Subjects"},{name:"Life Skills"},{name:"Arts"},{name:"Physical Education"},{name:"Computer Studies"}];return(a,e)=>(n(),l(b,null,[g(o(L),{title:"Add New Subject"}),g(B,{title:"Add New Subject",subtitle:"Create a new subject for students"},{default:h(()=>[t("div",T,[t("div",E,[t("form",{onSubmit:D(V,["prevent"])},[t("div",G,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-slate-700 mb-4"},"Subject Cover Image",-1)),t("div",z,[t("div",H,[f.value?(n(),l("img",{key:0,src:f.value,alt:"Cover preview",class:"w-full h-full object-cover"},null,8,J)):(n(),l("svg",O,[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},null,-1)])]))]),t("div",null,[t("button",{type:"button",onClick:C,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 rounded-xl text-sm font-medium transition-colors duration-200"}," Select Image "),e[8]||(e[8]=t("p",{class:"text-xs text-slate-500 mt-1"},"JPG, PNG up to 2MB",-1))])]),t("input",{ref_key:"coverImageInput",ref:p,type:"file",class:"hidden",onChange:M,accept:"image/*"},null,544),o(s).errors.cover_image?(n(),l("div",R,i(o(s).errors.cover_image),1)):d("",!0)]),t("div",Y,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Subject Name*",-1)),u(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o(s).name=r),type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g. Mathematics, Physical Science"},null,512),[[m,o(s).name]]),o(s).errors.name?(n(),l("div",$,i(o(s).errors.name),1)):d("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},[y(" Subject Code* "),t("span",{class:"text-xs text-slate-400 font-normal ml-2"},"(Auto-generated)")],-1)),u(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o(s).code=r),type:"text",required:"",onInput:j,class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g. MATH101, PHYS102"},null,544),[[m,o(s).code]]),e[12]||(e[12]=t("p",{class:"mt-1 text-xs text-slate-500"},"Code is auto-generated from subject name. You can edit it if needed.",-1)),o(s).errors.code?(n(),l("div",K,i(o(s).errors.code),1)):d("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Department/Subject Area*",-1)),u(t("select",{"onUpdate:modelValue":e[2]||(e[2]=r=>o(s).department=r),required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},[e[13]||(e[13]=t("option",{value:""},"Select Department",-1)),(n(!0),l(b,null,w(o(P),r=>(n(),l("option",{key:r.name,value:r.name},i(r.name),9,Q))),128))],512),[[k,o(s).department]]),o(s).errors.department?(n(),l("div",W,i(o(s).errors.department),1)):d("",!0)]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Grade Level*",-1)),u(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o(s).grade_level=r),required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},[e[15]||(e[15]=t("option",{value:""},"Select Grade Level",-1)),(n(),l(b,null,w(N,r=>t("option",{key:r,value:r},i(r),9,X)),64))],512),[[k,o(s).grade_level]]),o(s).errors.grade_level?(n(),l("div",Z,i(o(s).errors.grade_level),1)):d("",!0)]),t("div",null,[e[17]||(e[17]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Credits",-1)),u(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>o(s).credits=r),type:"number",min:"1",max:"10",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},null,512),[[m,o(s).credits,void 0,{number:!0}]]),o(s).errors.credits?(n(),l("div",ee,i(o(s).errors.credits),1)):d("",!0)]),t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Teacher/Instructor",-1)),u(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>o(s).teacher_name=r),type:"text",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g. Mr. John Smith"},null,512),[[m,o(s).teacher_name]]),o(s).errors.teacher_name?(n(),l("div",te,i(o(s).errors.teacher_name),1)):d("",!0)])]),t("div",se,[e[19]||(e[19]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Subject Description",-1)),u(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>o(s).description=r),rows:"4",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200 resize-none",placeholder:"Provide a brief description of this subject, including key topics and learning objectives..."},null,512),[[m,o(s).description]]),o(s).errors.description?(n(),l("div",oe,i(o(s).errors.description),1)):d("",!0)]),t("div",re,[g(o(q),{href:a.route("subjects.index"),class:"px-6 py-3 bg-slate-100 text-slate-700 rounded-2xl font-semibold hover:bg-slate-200 transition-all duration-200"},{default:h(()=>[...e[20]||(e[20]=[y(" Cancel ",-1)])]),_:1},8,["href"]),t("button",{type:"submit",disabled:o(s).processing,class:"px-6 py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-2xl font-semibold hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1 disabled:opacity-50"},[o(s).processing?(n(),l("span",ne,"Creating...")):(n(),l("span",ae,"Create Subject"))],8,le)])],32)])])]),_:1})],64))}};export{ue as default};
