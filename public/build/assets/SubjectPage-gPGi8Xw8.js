import{x as Y,r as c,A as Ce,K as je,c as n,o as l,a as ee,b as e,u as D,h as Me,j as u,w as te,l as se,n as b,t as a,F as C,f as F,G as oe,d as g,v as w,e as De,q as W,g as Le,k as K,i as G,L as T}from"./app-BwyiUpTk.js";import{C as le}from"./ChunkedVideoUpload-C4fvM4wT.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Ve={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 font-sans text-slate-800"},Ae={class:"h-16 bg-white/90 backdrop-blur-xl border-b border-slate-200/50 px-4 md:px-6 flex items-center justify-between relative z-50"},Be={class:"flex items-center space-x-4 flex-1 min-w-0"},Te={class:"min-w-0 flex-1"},ze={class:"text-sm md:text-lg font-bold text-slate-800 truncate"},Ue={class:"flex items-center space-x-3 flex-shrink-0"},Ee=["disabled"],He={class:"text-right hidden sm:block"},Pe={class:"text-sm font-semibold text-slate-800"},Ie={class:"text-xs text-slate-500"},Se=["src","alt"],$e={class:"flex h-[calc(100vh-64px)]"},Fe={class:"p-4 border-b border-slate-200/50"},Ne={class:"text-sm text-slate-600 mt-1"},qe={class:"p-4 border-b border-slate-200/50"},Oe={class:"flex items-center justify-between text-sm"},We={class:"text-slate-800 font-medium"},Ke={class:"flex-1 overflow-y-auto"},Ge={class:"flex items-center justify-between p-4 hover:bg-slate-100 transition-colors duration-200"},Re=["onClick"],Qe={class:"flex items-center space-x-3"},Xe={class:"w-6 h-6 border-2 border-slate-300 rounded-full flex items-center justify-center"},Ze={key:0,class:"w-3 h-3 bg-green-500 rounded-full"},Je={class:"text-slate-800 font-medium"},Ye={class:"text-xs text-slate-500"},et={class:"flex items-center space-x-2"},tt=["onClick"],st=["onClick"],ot={key:0,class:"bg-slate-50"},lt={class:"flex items-center space-x-3"},nt={class:"flex-shrink-0"},it={key:0,class:"w-5 h-5 text-indigo-500"},at={key:1,class:"w-5 h-5 text-green-500"},rt={key:2,class:"w-5 h-5 text-slate-400"},dt={class:"flex-1 min-w-0"},ut={class:"flex items-center justify-between"},ct={class:"min-w-0 flex-1"},vt={class:"flex items-center space-x-2"},pt={key:0,class:"px-2 py-0.5 text-xs font-semibold bg-amber-100 text-amber-700 rounded-full"},xt={class:"flex items-center space-x-2 mt-1"},mt={key:0,class:"text-xs text-slate-500"},ht={key:1,class:"text-xs text-slate-500"},ft={key:2,class:"text-xs text-slate-500"},bt={class:"flex-shrink-0 ml-2 flex items-center space-x-1"},gt=["onClick"],wt=["onClick"],kt=["onClick","title"],yt={key:0,class:"w-5 h-5 text-green-500"},_t={key:1,class:"w-5 h-5 border-2 border-slate-300 rounded-full"},Ct={class:"flex-1 flex"},jt={class:"flex-1 flex flex-col bg-gradient-to-br from-slate-50 to-blue-50"},Mt={class:"bg-white/80 backdrop-blur-xl border-b border-slate-200/50 p-4"},Dt={class:"flex items-center justify-between"},Lt={class:"text-xl font-bold text-slate-800"},Vt={class:"text-sm text-slate-600 mt-1"},At={class:"flex items-center space-x-3"},Bt={class:"text-right"},Tt={class:"text-sm text-slate-600"},zt={class:"flex-1 bg-slate-800 relative overflow-hidden"},Ut={class:"absolute inset-0 flex items-center justify-center p-8"},Et={class:"text-center text-white w-full max-w-2xl"},Ht={class:"text-6xl md:text-8xl text-white/20 mb-6"},Pt={class:"text-xl md:text-2xl font-medium mb-2 text-white/80"},It={class:"text-2xl md:text-4xl font-bold mb-8"},St={class:"flex items-center justify-center space-x-4 max-w-md mx-auto px-4"},$t={class:"text-sm text-white/80 whitespace-nowrap"},Ft={key:0,class:"text-white/50 text-sm mt-6"},Nt={class:"p-4 border-b border-slate-200/50 bg-gradient-to-r from-green-50 to-emerald-50"},qt={class:"flex items-center justify-between"},Ot={class:"flex items-center space-x-3"},Wt={class:"text-lg font-bold text-slate-800"},Kt={class:"text-sm"},Gt={class:"text-xs opacity-75 mt-1"},Rt={class:"p-4 border-t border-slate-200/50 bg-slate-50"},Qt={class:"text-xs text-slate-600 mb-2 italic"},Xt={class:"flex space-x-2"},Zt=["placeholder"],Jt={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},Yt={class:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-slate-200/50 max-w-md w-full mx-4"},es={class:"space-y-4"},ts={key:3,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},ss={class:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-slate-200/50 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},os={class:"space-y-6"},ls=["value"],ns={key:0,class:"space-y-3"},is={key:2,class:"mt-3 p-4 bg-green-50 border border-green-200 rounded-xl"},as={class:"flex items-center justify-between"},rs={class:"flex items-center space-x-3"},ds={class:"text-xs text-green-600"},us={key:0,class:"ml-2"},cs={class:"flex justify-end space-x-4 mt-8"},vs=["disabled"],ps={key:0},xs={key:1,class:"flex items-center space-x-2"},ms={key:4,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},hs={class:"bg-white/90 backdrop-blur-xl rounded-3xl p-8 shadow-2xl border border-slate-200/50 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto"},fs={class:"space-y-6"},bs={key:0,class:"mb-3 p-4 bg-blue-50 border border-blue-200 rounded-xl"},gs={class:"flex items-center space-x-3"},ws={class:"text-xs text-blue-600"},ks={key:0,class:"ml-2"},ys={key:1,class:"space-y-3"},_s={class:"text-center"},Cs={class:"mt-2 text-sm font-medium text-slate-700"},js={key:3,class:"mt-3 p-4 bg-green-50 border border-green-200 rounded-xl"},Ms={class:"flex items-center justify-between"},Ds={class:"flex items-center space-x-3"},Ls={class:"text-xs text-green-600"},Vs={key:0,class:"ml-2"},As={class:"flex justify-end space-x-4 mt-8"},Bs=["disabled"],Ts={key:0},zs={key:1,class:"flex items-center space-x-2"},Ps={__name:"SubjectPage",props:{auth:Object,subject:Object},setup(p){const v=p,L=v.auth?.user||{name:"Guest",role:"guest",profile_photo_url:null},U=Y(()=>L.role==="admin"||L.role==="teacher"),E=c(!0),z=c(!1),j=c(new Set),m=c(null),V=c(v.subject?.topics?.[0]?.id||null),H=c(!1),P=c(!1),k=c({name:"",description:""}),d=c({title:"",description:"",notes:"",videoData:null}),h=c(!1),ne=c(0),y=c(!1),N=c(!1),f=c(null),r=c({title:"",description:"",notes:"",videoData:null}),_=c(!1),ie=Y(()=>v.subject?.topics?.find(s=>s.id===V.value)),A=c(!0),q=c([{id:1,sender:"ai",message:`Hi! I'm your AI ${v.subject.name} tutor. Ask me anything about the lesson or ${v.subject.name.toLowerCase()} topics!`,timestamp:new Date},{id:2,sender:"ai",message:`Welcome to the ${v.subject.name} lesson! I'm here to help you understand any concepts. What would you like to know about ${v.subject.name.toLowerCase()} techniques or practices?`,timestamp:new Date}]),B=c(""),M=c(null),O=()=>{E.value=!E.value},R=()=>{z.value=window.innerWidth<768},Q=s=>{j.value.has(s)?j.value.delete(s):j.value.add(s)},I=s=>s.video_path?"video":s.type==="quiz"?"quiz":s.type==="text"?"text":"document",X=s=>Math.random()>.5?100:0,S=()=>{A.value=!A.value},Z=()=>{B.value.trim()&&(q.value.push({id:Date.now(),sender:"user",message:B.value.trim(),timestamp:new Date}),B.value.trim(),B.value="",setTimeout(()=>{q.value.push({id:Date.now(),sender:"ai",message:ae(),timestamp:new Date}),M.value&&(M.value.scrollTop=M.value.scrollHeight)},1e3))},ae=s=>{const t=v.subject.name.toLowerCase(),o=[`That's a great question about ${t}! Let me help you with that concept.`,`In ${t} practices, this relates to fundamental principles and techniques.`,`This topic is fundamental to understanding ${t} concepts.`,`Let me explain how this applies to ${t} techniques and practices.`,`This concept is important for understanding ${t} fundamentals.`];return o[Math.floor(Math.random()*o.length)]},re=async()=>{try{const s=await T.post(route("topics.store"),{subject_id:v.subject.id,name:k.value.name,description:k.value.description});s.data.success&&(v.subject.topics.push(s.data.topic),k.value={name:"",description:""},H.value=!1,V.value=s.data.topic.id,j.value.add(s.data.topic.id))}catch(s){console.error("Error adding topic:",s),alert("Error adding topic. Please try again.")}},de=()=>{k.value={name:"",description:""},H.value=!1},ue=async(s,t)=>{t.preventDefault(),t.stopPropagation();const o=s.lessons?.length||0,i=o>0?`Are you sure you want to delete "${s.name}"? This will also delete ${o} lesson(s) and their videos. This cannot be undone.`:`Are you sure you want to delete "${s.name}"? This cannot be undone.`;if(confirm(i))try{if((await T.delete(route("topics.destroy",s.id))).data.success){const $=v.subject.topics.findIndex(_e=>_e.id===s.id);$!==-1&&v.subject.topics.splice($,1)}}catch(x){console.error("Error deleting topic:",x),alert("Failed to delete topic. Please try again.")}},ce=async()=>{if(!h.value)try{h.value=!0;const s=new FormData;s.append("topic_id",V.value),s.append("title",d.value.title),s.append("description",d.value.description),s.append("notes",d.value.notes),d.value.videoData&&(s.append("video_path",d.value.videoData.filePath),s.append("video_filename",d.value.videoData.fileName||"uploaded_video.mp4"),d.value.videoData.duration&&s.append("duration_minutes",d.value.videoData.duration),d.value.videoData.storageDisk&&s.append("storage_disk",d.value.videoData.storageDisk));const t=await T.post(route("lessons.store"),s);if(t.data.success){const o=v.subject.topics.find(i=>i.id===V.value);o&&(o.lessons||(o.lessons=[]),o.lessons.push(t.data.lesson)),d.value={title:"",description:"",notes:"",videoData:null},P.value=!1,y.value=!1}}catch(s){console.error("Error adding lesson:",s),alert("Error adding lesson. Please try again.")}finally{h.value=!1,ne.value=0}},ve=s=>{d.value.videoData=s,y.value=!1},pe=s=>{console.error("Video upload error:",s),alert("Video upload failed. Please try again.")},xe=()=>{d.value.videoData=null,y.value=!1},me=()=>{d.value={title:"",description:"",notes:"",videoData:null},P.value=!1,y.value=!1},he=async(s,t)=>{t.preventDefault(),t.stopPropagation();try{const o=s.is_published?route("lessons.unpublish",s.id):route("lessons.publish",s.id),i=await T.patch(o);i.data.success&&(s.is_published=i.data.lesson.is_published)}catch(o){console.error("Error toggling publish status:",o),alert("Failed to update lesson status. Please try again.")}},fe=(s,t)=>{t.preventDefault(),t.stopPropagation(),f.value=s,r.value={title:s.title,description:s.description||"",notes:s.notes||"",videoData:null},N.value=!0},be=async()=>{if(!(h.value||!f.value))try{h.value=!0;const s=new FormData;s.append("title",r.value.title),s.append("description",r.value.description),s.append("notes",r.value.notes),r.value.videoData&&(s.append("video_path",r.value.videoData.filePath),s.append("video_filename",r.value.videoData.fileName||"uploaded_video.mp4"),r.value.videoData.duration&&s.append("duration_minutes",r.value.videoData.duration),r.value.videoData.storageDisk&&s.append("storage_disk",r.value.videoData.storageDisk)),s.append("_method","PUT");const t=await T.post(route("lessons.update",f.value.id),s);t.data.success&&(Object.assign(f.value,t.data.lesson),J(),alert("Lesson updated successfully!"))}catch(s){console.error("Error updating lesson:",s),alert("Error updating lesson. Please try again.")}finally{h.value=!1}},ge=s=>{r.value.videoData=s,_.value=!1},we=s=>{console.error("Video upload error:",s),alert("Video upload failed. Please try again.")},ke=()=>{r.value.videoData=null,_.value=!1},J=()=>{f.value=null,r.value={title:"",description:"",notes:"",videoData:null},N.value=!1,_.value=!1},ye=async(s,t)=>{if(t.preventDefault(),t.stopPropagation(),!!confirm(`Are you sure you want to delete "${s.title}"? This cannot be undone.`))try{if((await T.delete(route("lessons.destroy",s.id))).data.success){for(const i of v.subject.topics)if(i.lessons){const x=i.lessons.findIndex($=>$.id===s.id);if(x!==-1){i.lessons.splice(x,1);break}}}}catch(o){console.error("Error deleting lesson:",o),alert("Failed to delete lesson. Please try again.")}};return Ce(()=>{R(),window.addEventListener("resize",R),v.subject?.topics&&v.subject.topics.forEach(s=>{j.value.add(s.id)}),v.subject?.topics?.[0]?.lessons?.[0]&&(m.value=v.subject.topics[0].lessons[0]),je(()=>{M.value&&(M.value.scrollTop=M.value.scrollHeight)})}),(s,t)=>(l(),n(C,null,[ee(D(Me),{title:p.subject.name},null,8,["title"]),e("div",Ve,[e("header",Ae,[e("div",Be,[ee(D(se),{href:s.route("subjects.index"),class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 flex-shrink-0"},{default:te(()=>[...t[16]||(t[16]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("button",{onClick:O,class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 lg:hidden"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("button",{onClick:S,class:b(["p-2 rounded-xl transition-all duration-200 lg:hidden",A.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",Te,[e("h1",ze,a(p.subject?.name),1)])]),e("div",Ue,[U.value?(l(),n(C,{key:0},[e("button",{onClick:t[0]||(t[0]=o=>H.value=!0),class:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg text-sm"},[...t[19]||(t[19]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),e("span",null,"Add Topic",-1)])]),e("button",{onClick:t[1]||(t[1]=o=>P.value=!0),disabled:!ie.value&&!(p.subject?.topics?.length>0),class:"hidden md:flex items-center space-x-2 px-3 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm"},[...t[20]||(t[20]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})],-1),e("span",null,"Add Lesson",-1)])],8,Ee)],64)):u("",!0),e("button",{onClick:S,class:b(["p-2 rounded-xl transition-all duration-200 hidden lg:block",A.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[21]||(t[21]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",He,[e("p",Pe,a(D(L).name),1),e("p",Ie,a(D(L).role),1)]),e("img",{src:D(L).profile_photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face&facepad=2&bg=white",alt:D(L).name,class:"h-8 w-8 md:h-10 md:w-10 rounded-xl ring-2 ring-white shadow-md"},null,8,Se)])]),e("div",$e,[e("div",{class:b(["bg-white/90 backdrop-blur-xl border-r border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",E.value?"w-80":"w-0",z.value?"fixed inset-y-16 left-0 z-40 shadow-xl":""])},[e("div",Fe,[e("div",{class:"flex items-center justify-between"},[t[23]||(t[23]=e("h2",{class:"text-lg font-bold text-slate-800"},"Subject Content",-1)),e("button",{onClick:O,class:"p-1 hover:bg-slate-100 rounded-lg lg:hidden"},[...t[22]||(t[22]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",Ne,a(p.subject.topics?.length||0)+"/"+a(p.subject.topics?.length||0),1)]),e("div",qe,[e("div",Oe,[t[24]||(t[24]=e("span",{class:"text-slate-600"},"Progress",-1)),e("span",We,"0/"+a(p.subject.topics?.reduce((o,i)=>o+(i.lessons?.length||0),0)||0)+" lessons",1)]),t[25]||(t[25]=e("div",{class:"mt-2 bg-slate-200 rounded-full h-2"},[e("div",{class:"bg-indigo-500 h-2 rounded-full",style:{width:"0%"}})],-1))]),e("div",Ke,[(l(!0),n(C,null,F(p.subject?.topics||[],o=>(l(),n("div",{key:o.id,class:"border-b border-slate-200/50"},[e("div",Ge,[e("button",{onClick:i=>Q(o.id),class:"flex-1 text-left"},[e("div",Qe,[e("div",Xe,[X()===100?(l(),n("div",Ze)):u("",!0)]),e("div",null,[e("h3",Je,a(o.name||"Topic "+(o.order_index+1||1)),1),e("p",Ye,a(o.lessons?.length||0)+" lesson(s)",1)])])],8,Re),e("div",et,[U.value?(l(),n("button",{key:0,onClick:i=>ue(o,i),class:"p-1.5 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete topic"},[...t[26]||(t[26]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,tt)):u("",!0),e("button",{onClick:i=>Q(o.id),class:"p-1"},[(l(),n("svg",{class:b(["w-5 h-5 text-slate-400 transform transition-transform duration-200",j.value.has(o.id)?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[27]||(t[27]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))],8,st)])]),j.value.has(o.id)?(l(),n("div",ot,[(l(!0),n(C,null,F(o.lessons||[],i=>(l(),K(D(se),{key:i.id,href:s.route("lessons.show",i.id),class:b(["block py-3 px-6 pl-12 border-l-4 transition-all duration-200 hover:bg-slate-100",m.value?.id===i.id?"border-indigo-500 bg-indigo-50":"border-transparent"])},{default:te(()=>[e("div",lt,[e("div",nt,[I(i)==="video"?(l(),n("div",it,[...t[28]||(t[28]=[e("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 5v14l11-7z"})],-1)])])):I(i)==="quiz"?(l(),n("div",at,[...t[29]||(t[29]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])):(l(),n("div",rt,[...t[30]||(t[30]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),e("div",dt,[e("div",ut,[e("div",ct,[e("div",vt,[e("p",{class:b(["text-sm font-medium truncate",m.value?.id===i.id?"text-indigo-600":"text-slate-800",i.is_published?"":"opacity-70"])},a(o.order_index+1||1)+"."+a(i.order_index+1||1)+" "+a(i.title),3),!i.is_published&&U.value?(l(),n("span",pt," DRAFT ")):u("",!0)]),e("div",xt,[I(i)==="video"?(l(),n("span",mt," MULTIMEDIA ")):I(i)==="quiz"?(l(),n("span",ht," QUIZ - 18 QUESTIONS ")):(l(),n("span",ft," TEXT "))])]),e("div",bt,[U.value?(l(),n(C,{key:0},[e("button",{onClick:x=>fe(i,x),class:"p-1 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded transition-colors",title:"Edit lesson"},[...t[31]||(t[31]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,gt),e("button",{onClick:x=>ye(i,x),class:"p-1 text-slate-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors",title:"Delete lesson"},[...t[32]||(t[32]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,wt),e("button",{onClick:x=>he(i,x),class:b(["px-2 py-1 text-xs font-semibold rounded-lg transition-all duration-200 shadow-sm",i.is_published?"bg-green-500 text-white hover:bg-green-600":"bg-indigo-500 text-white hover:bg-indigo-600 animate-pulse"]),title:i.is_published?"Click to unpublish":"Click to publish this lesson"},a(i.is_published?"âœ“ Live":"Publish"),11,kt)],64)):(l(),n(C,{key:1},[X(i)===100?(l(),n("div",yt,[...t[33]||(t[33]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):(l(),n("div",_t))],64))])])])])]),_:2},1032,["href","class"]))),128))])):u("",!0)]))),128))])],2),e("div",Ct,[e("div",jt,[e("div",Mt,[e("div",Dt,[e("div",null,[e("h1",Lt,a(m.value?.title||"1.1 Lesson Introduction"),1),e("p",Vt,a(m.value?.topic?.name||"Topic 1"),1)]),e("div",At,[e("div",Bt,[e("p",Tt,"Lesson "+a(m.value?.order_index+1||1),1)]),t[34]||(t[34]=e("button",{class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200"},[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})])],-1))])])]),e("div",zt,[e("div",Ut,[e("div",Et,[e("div",Ht,a(p.subject.name.charAt(0)),1),e("h3",Pt,a(m.value?.topic?.name||"Topic 1"),1),e("h2",It,a(m.value?.title||"Select a Lesson"),1),t[37]||(t[37]=e("div",{class:"flex items-center justify-center mb-8"},[e("button",{class:"w-16 h-16 md:w-20 md:h-20 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition-all duration-200 hover:scale-110"},[e("svg",{class:"w-8 h-8 md:w-10 md:h-10 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 5v14l11-7z"})])])],-1)),e("div",St,[t[35]||(t[35]=e("span",{class:"text-sm text-white/80 whitespace-nowrap"},"0:00",-1)),t[36]||(t[36]=e("div",{class:"flex-1 h-2 bg-white/20 rounded-full cursor-pointer hover:h-3 transition-all duration-200"},[e("div",{class:"h-full bg-indigo-500 rounded-full transition-all duration-200",style:{width:"0%"}})],-1)),e("span",$t,a(m.value?.formatted_duration||"--:--"),1)]),t[38]||(t[38]=oe('<div class="flex items-center justify-center space-x-4 mt-6"><button class="p-2 text-white/60 hover:text-white transition-colors"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"></path></svg></button><button class="p-2 text-white/60 hover:text-white transition-colors"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></button><button class="p-2 text-white/60 hover:text-white transition-colors"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path></svg></button></div>',1)),m.value?u("",!0):(l(),n("p",Ft," Click on a lesson from the sidebar to start watching "))])])])]),e("div",{class:b(["bg-white border-l border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",A.value?"w-96":"w-0",z.value?"fixed inset-y-16 right-0 z-40 shadow-xl":""])},[e("div",Nt,[e("div",qt,[e("div",Ot,[t[40]||(t[40]=e("div",{class:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h3",Wt,"AI "+a(p.subject?.name)+" Tutor",1),t[39]||(t[39]=e("div",{class:"flex items-center space-x-1"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{class:"text-sm text-green-600 font-medium"},"Online")],-1))])]),e("button",{onClick:S,class:"p-1 hover:bg-white/50 rounded-lg"},[...t[41]||(t[41]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",{ref_key:"chatContainer",ref:M,class:"flex-1 overflow-y-auto p-4 space-y-4"},[(l(!0),n(C,null,F(q.value,o=>(l(),n("div",{key:o.id,class:b(["flex",o.sender==="user"?"justify-end":"justify-start"])},[e("div",{class:b(["max-w-xs lg:max-w-md px-4 py-3 rounded-2xl",o.sender==="user"?"bg-indigo-500 text-white rounded-br-md":"bg-green-500 text-white rounded-bl-md"])},[e("p",Kt,a(o.message),1),e("p",Gt,a(o.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)],2)],2))),128))],512),e("div",Rt,[e("p",Qt," Hi! I'm your AI "+a(p.subject.name)+" tutor. Ask me anything about the lesson or "+a(p.subject.name.toLowerCase())+" topics! ",1),e("div",Xt,[g(e("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>B.value=o),onKeyup:De(Z,["enter"]),type:"text",placeholder:`Ask me anything about ${p.subject.name.toLowerCase()}...`,class:"flex-1 px-3 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"},null,40,Zt),[[w,B.value]]),e("button",{onClick:Z,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors duration-200"},[...t[42]||(t[42]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])])])])],2)])]),z.value&&E.value?(l(),n("div",{key:0,onClick:O,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):u("",!0),z.value&&A.value?(l(),n("div",{key:1,onClick:S,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):u("",!0),H.value?(l(),n("div",Jt,[e("div",Yt,[t[46]||(t[46]=e("h3",{class:"text-xl font-bold text-slate-800 mb-6"},"Add New Topic",-1)),e("form",{onSubmit:W(re,["prevent"])},[e("div",es,[e("div",null,[t[43]||(t[43]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Topic Name*",-1)),g(e("input",{"onUpdate:modelValue":t[3]||(t[3]=o=>k.value.name=o),type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:bg-white transition-all duration-200",placeholder:"e.g. Introduction, Basic Concepts"},null,512),[[w,k.value.name]])]),e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=o=>k.value.description=o),rows:"3",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:bg-white transition-all duration-200",placeholder:"Brief description of this topic..."},null,512),[[w,k.value.description]])])]),e("div",{class:"flex justify-end space-x-4 mt-6"},[e("button",{type:"button",onClick:de,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-medium transition-all duration-200"}," Cancel "),t[45]||(t[45]=e("button",{type:"submit",class:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-medium hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-md hover:shadow-lg"}," Add Topic ",-1))])],32)])])):u("",!0),P.value?(l(),n("div",ts,[e("div",ss,[t[57]||(t[57]=e("h3",{class:"text-xl font-bold text-slate-800 mb-6"},"Add New Lesson",-1)),e("form",{onSubmit:W(ce,["prevent"])},[e("div",os,[e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Select Topic*",-1)),g(e("select",{"onUpdate:modelValue":t[5]||(t[5]=o=>V.value=o),required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},[(l(!0),n(C,null,F(p.subject?.topics,o=>(l(),n("option",{key:o.id,value:o.id},a(o.name),9,ls))),128))],512),[[Le,V.value]])]),e("div",null,[t[48]||(t[48]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Lesson Title*",-1)),g(e("input",{"onUpdate:modelValue":t[6]||(t[6]=o=>d.value.title=o),type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g. Introduction to Algebra"},null,512),[[w,d.value.title]])]),e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=o=>d.value.description=o),rows:"3",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"What will students learn in this lesson?"},null,512),[[w,d.value.description]])]),e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Video File",-1)),!d.value.videoData&&!y.value?(l(),n("div",ns,[e("button",{onClick:t[8]||(t[8]=o=>y.value=!0),type:"button",class:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed border-blue-300 rounded-2xl p-6 hover:border-blue-400 hover:bg-gradient-to-r hover:from-blue-100 hover:to-indigo-100 transition-all duration-200"},[...t[50]||(t[50]=[oe('<div class="text-center"><svg class="mx-auto h-12 w-12 text-blue-400" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><p class="mt-2 text-sm font-medium text-slate-700">Upload Video File</p><p class="text-xs text-slate-500">Fast chunked upload with compression</p><p class="text-xs text-slate-400 mt-1">MP4, MOV, AVI, WMV, MKV up to 1GB</p></div>',1)])])])):u("",!0),y.value?(l(),K(le,{key:1,onUploadSuccess:ve,onUploadError:pe,onCancel:t[9]||(t[9]=o=>y.value=!1),class:"mt-3"})):u("",!0),d.value.videoData?(l(),n("div",is,[e("div",as,[e("div",rs,[t[52]||(t[52]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1)),e("div",null,[t[51]||(t[51]=e("p",{class:"text-sm font-medium text-green-800"},"Video uploaded successfully!",-1)),e("p",ds,[G(a(d.value.videoData.fileName)+" ",1),d.value.videoData.duration?(l(),n("span",us,a(d.value.videoData.duration)+" min",1)):u("",!0)])])]),e("button",{onClick:xe,type:"button",class:"text-green-600 hover:text-green-800"},[...t[53]||(t[53]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):u("",!0)]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Lesson Notes",-1)),g(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=o=>d.value.notes=o),rows:"4",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"Additional notes, resources, or homework for this lesson..."},null,512),[[w,d.value.notes]])])]),e("div",cs,[e("button",{type:"button",onClick:me,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-medium transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:h.value,class:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},[h.value?(l(),n("span",xs,[...t[56]||(t[56]=[e("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",class:"opacity-25"}),e("path",{fill:"currentColor",class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"Saving...",-1)])])):(l(),n("span",ps,"Add Lesson"))],8,vs)])],32)])])):u("",!0),N.value?(l(),n("div",ms,[e("div",hs,[t[71]||(t[71]=e("h3",{class:"text-xl font-bold text-slate-800 mb-6"},"Edit Lesson",-1)),e("form",{onSubmit:W(be,["prevent"])},[e("div",fs,[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Lesson Title*",-1)),g(e("input",{"onUpdate:modelValue":t[11]||(t[11]=o=>r.value.title=o),type:"text",required:"",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"e.g. Introduction to Algebra"},null,512),[[w,r.value.title]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Description",-1)),g(e("textarea",{"onUpdate:modelValue":t[12]||(t[12]=o=>r.value.description=o),rows:"3",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"What will students learn in this lesson?"},null,512),[[w,r.value.description]])]),e("div",null,[t[68]||(t[68]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Video File",-1)),f.value?.video_path&&!r.value.videoData&&!_.value?(l(),n("div",bs,[e("div",gs,[t[61]||(t[61]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1)),e("div",null,[t[60]||(t[60]=e("p",{class:"text-sm font-medium text-blue-800"},"Current video attached",-1)),e("p",ws,[G(a(f.value.video_filename||"Video file")+" ",1),f.value.duration_minutes?(l(),n("span",ks,a(f.value.duration_minutes)+" min",1)):u("",!0)])])])])):u("",!0),!r.value.videoData&&!_.value?(l(),n("div",ys,[e("button",{onClick:t[13]||(t[13]=o=>_.value=!0),type:"button",class:"w-full bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-dashed border-blue-300 rounded-2xl p-6 hover:border-blue-400 hover:bg-gradient-to-r hover:from-blue-100 hover:to-indigo-100 transition-all duration-200"},[e("div",_s,[t[62]||(t[62]=e("svg",{class:"mx-auto h-12 w-12 text-blue-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48"},[e("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)),e("p",Cs,a(f.value?.video_path?"Upload New Video (Replace)":"Upload Video File"),1),t[63]||(t[63]=e("p",{class:"text-xs text-slate-500"},"Fast chunked upload with compression",-1)),t[64]||(t[64]=e("p",{class:"text-xs text-slate-400 mt-1"},"MP4, MOV, AVI, WMV, MKV up to 1GB",-1))])])])):u("",!0),_.value?(l(),K(le,{key:2,onUploadSuccess:ge,onUploadError:we,onCancel:t[14]||(t[14]=o=>_.value=!1),class:"mt-3"})):u("",!0),r.value.videoData?(l(),n("div",js,[e("div",Ms,[e("div",Ds,[t[66]||(t[66]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1)),e("div",null,[t[65]||(t[65]=e("p",{class:"text-sm font-medium text-green-800"},"New video uploaded!",-1)),e("p",Ls,[G(a(r.value.videoData.fileName)+" ",1),r.value.videoData.duration?(l(),n("span",Vs,a(r.value.videoData.duration)+" min",1)):u("",!0)])])]),e("button",{onClick:ke,type:"button",class:"text-green-600 hover:text-green-800"},[...t[67]||(t[67]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])])):u("",!0)]),e("div",null,[t[69]||(t[69]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Lesson Notes",-1)),g(e("textarea",{"onUpdate:modelValue":t[15]||(t[15]=o=>r.value.notes=o),rows:"4",class:"w-full bg-slate-100/70 px-4 py-3 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200",placeholder:"Additional notes, resources, or homework for this lesson..."},null,512),[[w,r.value.notes]])])]),e("div",As,[e("button",{type:"button",onClick:J,class:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-xl font-medium transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:h.value,class:"px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:from-indigo-600 hover:to-purple-700 transition-all duration-200 shadow-md hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},[h.value?(l(),n("span",zs,[...t[70]||(t[70]=[e("svg",{class:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},[e("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",class:"opacity-25"}),e("path",{fill:"currentColor",class:"opacity-75",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"Saving...",-1)])])):(l(),n("span",Ts,"Update Lesson"))],8,Bs)])],32)])])):u("",!0)])],64))}};export{Ps as default};
