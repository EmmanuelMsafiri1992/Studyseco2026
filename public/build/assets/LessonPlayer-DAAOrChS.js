import{r as d,x as $,A as ne,K as ae,c as a,o as n,a as W,b as e,u as f,h as ie,j as v,w as G,l as Q,n as c,t as u,G as D,F as L,f as I,i as re,S as X,d as de,v as ue,e as ce,k as ve}from"./app-CRjWoFff.js";import{_ as he}from"./_plugin-vue_export-helper-DlAUqK2U.js";const xe={class:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 font-sans text-slate-800"},fe={class:"h-16 bg-white/90 backdrop-blur-xl border-b border-slate-200/50 px-4 md:px-6 flex items-center justify-between relative z-50"},me={class:"flex items-center space-x-4 flex-1 min-w-0"},pe={class:"min-w-0 flex-1"},be={class:"text-sm md:text-lg font-bold text-slate-800 truncate"},ge={class:"flex items-center space-x-3 flex-shrink-0"},we={class:"text-right hidden sm:block"},ke={class:"text-sm font-semibold text-slate-800"},ye={class:"text-xs text-slate-500"},_e=["src","alt"],Ce={class:"flex h-[calc(100vh-64px)]"},Me={class:"flex-1 overflow-y-auto"},je=["onClick"],Te={class:"flex items-center justify-between"},ze={class:"flex items-center space-x-3"},Be={class:"w-6 h-6 border-2 border-slate-300 rounded-full flex items-center justify-center"},Le={key:0,class:"w-3 h-3 bg-green-500 rounded-full"},Ae={class:"text-slate-800 font-medium"},Ee={class:"text-xs text-slate-500"},Ve={key:0,class:"bg-slate-50"},Se={class:"flex items-center space-x-3"},$e={class:"flex-shrink-0"},De={key:0,class:"w-5 h-5 text-indigo-500"},Ie={key:1,class:"w-5 h-5 text-green-500"},He={key:2,class:"w-5 h-5 text-slate-400"},Ne={class:"flex-1 min-w-0"},Pe={class:"flex items-center justify-between"},qe={class:"min-w-0 flex-1"},Oe={class:"flex items-center space-x-2 mt-1"},Fe={key:0,class:"text-xs text-slate-500"},Re={key:1,class:"text-xs text-slate-500"},Ue={key:2,class:"text-xs text-slate-500"},Ke={key:3,class:"text-xs text-slate-500"},We={class:"flex-shrink-0 ml-2"},Ge={key:0,class:"w-5 h-5 text-green-500"},Qe={key:1,class:"w-5 h-5 border-2 border-slate-300 rounded-full"},Xe={class:"flex-1 flex"},Ye={class:"flex-1 flex flex-col bg-gradient-to-br from-slate-50 to-blue-50"},Ze={class:"bg-white/80 backdrop-blur-xl border-b border-slate-200/50 p-4"},Je={class:"flex items-center justify-between"},et={class:"text-xl font-bold text-slate-800"},tt={class:"text-sm text-slate-600 mt-1"},st={class:"flex items-center space-x-3"},lt={class:"text-right"},ot={class:"text-sm text-slate-600"},nt={class:"flex-1 bg-black relative"},at={class:"w-full h-full flex items-center justify-center"},it=["src","poster"],rt=["src"],dt=["src"],ut=["src"],ct={key:1,class:"absolute inset-0 flex items-center justify-center bg-black/50"},vt={class:"mb-4"},ht={class:"relative"},xt={class:"w-full h-1 bg-white/20 rounded-full"},ft={class:"flex items-center justify-between text-white"},mt={class:"flex items-center space-x-3 md:space-x-4"},pt={key:0,class:"w-6 h-6 md:w-8 md:h-8",fill:"currentColor",viewBox:"0 0 24 24"},bt={key:1,class:"w-6 h-6 md:w-8 md:h-8",fill:"currentColor",viewBox:"0 0 24 24"},gt={class:"hidden md:flex items-center space-x-2"},wt=["value"],kt={class:"text-xs md:text-sm font-mono"},yt={class:"flex items-center space-x-2"},_t={class:"relative group"},Ct={class:"px-2 py-1 text-xs bg-white/20 rounded hover:bg-white/30 transition-colors duration-200"},Mt={class:"absolute bottom-full right-0 mb-2 bg-black/90 rounded-lg p-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200"},jt={class:"flex flex-col space-y-1"},Tt={key:2,class:"absolute inset-0 flex items-center justify-center bg-black"},zt={class:"bg-white/80 backdrop-blur-xl border-t border-slate-200/50 p-4"},Bt={class:"flex items-center justify-between"},Lt={class:"flex items-center space-x-4"},At={key:0,class:"text-sm text-slate-600"},Et={class:"p-4 border-b border-slate-200/50 bg-gradient-to-r from-green-50 to-emerald-50"},Vt={class:"flex items-center justify-between"},St={class:"flex items-center space-x-3"},$t={class:"text-lg font-bold text-slate-800"},Dt={class:"text-sm"},It={class:"text-xs opacity-75 mt-1"},Ht={class:"p-4 border-t border-slate-200/50 bg-slate-50"},Nt={class:"flex space-x-2"},Pt={__name:"LessonPlayer",props:{auth:Object,lesson:Object,subject:Object},setup(i){const C=i,M=C.auth?.user||{name:"Guest",role:"guest",profile_photo_url:null},l=d(null),A=d(0),h=d(0),m=d(!1),H=d(1),y=d(!0),N=d(!1),p=d(!0),P=d(1),j=d(!0),_=d(!1),q=d(0),b=d(new Set),g=d(!0),E=d([{id:1,sender:"ai",message:"Hi! I'm your AI Agriculture tutor. Ask me anything about the lesson or agriculture topics!",timestamp:new Date},{id:2,sender:"ai",message:"Welcome to the Agriculture lesson! I'm here to help you understand any concepts. What would you like to know about farming techniques or agricultural practices?",timestamp:new Date}]),w=d(""),x=d(null),Y=$(()=>O(A.value)),Z=$(()=>O(h.value)),J=$(()=>h.value>0?A.value/h.value*100:0),O=s=>{const t=Math.floor(s/3600),o=Math.floor(s%3600/60),r=Math.floor(s%60);return t>0?`${t}:${o.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${o}:${r.toString().padStart(2,"0")}`},V=()=>{l.value&&(m.value?l.value.pause():l.value.play())},ee=s=>{const t=s.target.getBoundingClientRect(),r=(s.clientX-t.left)/t.width*h.value;l.value&&(l.value.currentTime=r)},te=s=>{const t=s.target.value/100;H.value=t,l.value&&(l.value.volume=t)},F=()=>{document.fullscreenElement?(document.exitFullscreen(),N.value=!1):(l.value.requestFullscreen(),N.value=!0)},T=s=>{l.value&&(l.value.currentTime+=s)},k=s=>{P.value=s,l.value&&(l.value.playbackRate=s)},S=()=>{j.value=!j.value},R=()=>{_.value=window.innerWidth<768},se=()=>{if(l.value&&l.value.buffered.length>0){const s=l.value.buffered.end(l.value.buffered.length-1);q.value=h.value>0?s/h.value*100:0}},le=s=>{b.value.has(s)?b.value.delete(s):b.value.add(s)},z=s=>s.video_path?"video":s.type==="quiz"?"quiz":s.type==="text"?"text":"document",U=s=>s.id===C.lesson.id||Math.random()>.5?100:0,B=()=>{g.value=!g.value},K=()=>{w.value.trim()&&(E.value.push({id:Date.now(),sender:"user",message:w.value.trim(),timestamp:new Date}),w.value.trim(),w.value="",setTimeout(()=>{E.value.push({id:Date.now(),sender:"ai",message:oe(),timestamp:new Date}),x.value&&(x.value.scrollTop=x.value.scrollHeight)},1e3))},oe=s=>{const t=["That's a great question about agriculture! Let me help you with that concept.","In agricultural practices, this relates to soil management and crop rotation techniques.","This topic is fundamental to understanding sustainable farming methods.","Let me explain how this applies to modern agricultural techniques and farming practices.","This concept is important for crop yield optimization and soil health maintenance."];return t[Math.floor(Math.random()*t.length)]};return ne(()=>{if(R(),window.addEventListener("resize",R),C.lesson.topic&&b.value.add(C.lesson.topic.id),ae(()=>{x.value&&(x.value.scrollTop=x.value.scrollHeight)}),l.value){l.value.preload="metadata",l.value.crossOrigin="anonymous",l.value.addEventListener("loadedmetadata",()=>{h.value=l.value.duration,p.value=!1}),l.value.addEventListener("loadstart",()=>{p.value=!0}),l.value.addEventListener("canplay",()=>{p.value=!1}),l.value.addEventListener("waiting",()=>{p.value=!0}),l.value.addEventListener("playing",()=>{p.value=!1}),l.value.addEventListener("progress",se),l.value.addEventListener("timeupdate",()=>{A.value=l.value.currentTime}),l.value.addEventListener("play",()=>{m.value=!0}),l.value.addEventListener("pause",()=>{m.value=!1}),l.value.addEventListener("ended",()=>{m.value=!1});let s;const t=()=>{clearTimeout(s),y.value=!0,s=setTimeout(()=>{m.value&&(y.value=!1)},3e3)};l.value.addEventListener("mousemove",t),l.value.addEventListener("click",V)}document.addEventListener("keydown",s=>{if(!(s.target.tagName.toLowerCase()==="input"||s.target.tagName.toLowerCase()==="textarea"))switch(s.code){case"Space":s.preventDefault(),V();break;case"ArrowLeft":s.preventDefault(),T(-10);break;case"ArrowRight":s.preventDefault(),T(10);break;case"KeyF":s.preventDefault(),F();break}})}),(s,t)=>(n(),a(L,null,[W(f(ie),{title:i.lesson.title},null,8,["title"]),e("div",xe,[e("header",fe,[e("div",me,[W(f(Q),{href:s.route("subjects.show",i.lesson.topic.subject.id),class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 flex-shrink-0"},{default:G(()=>[...t[11]||(t[11]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1},8,["href"]),e("button",{onClick:S,class:"p-2 hover:bg-slate-100 rounded-xl transition-colors duration-200 lg:hidden"},[...t[12]||(t[12]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e("button",{onClick:B,class:c(["p-2 rounded-xl transition-all duration-200 lg:hidden",g.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[13]||(t[13]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",pe,[e("h1",be,u(i.subject?.name||i.lesson.topic.subject.name),1)])]),e("div",ge,[e("button",{onClick:B,class:c(["p-2 rounded-xl transition-all duration-200 hidden lg:block",g.value?"bg-green-100 text-green-600":"hover:bg-slate-100 text-slate-600"])},[...t[14]||(t[14]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C5.525 14.88 7.42 16 9 16c2.31 0 4.792-.88 6-2.5l-.5-1.5"})],-1)])],2),e("div",we,[e("p",ke,u(f(M).name),1),e("p",ye,u(f(M).role),1)]),e("img",{src:f(M).profile_photo_url||"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop&crop=face&facepad=2&bg=white",alt:f(M).name,class:"h-8 w-8 md:h-10 md:w-10 rounded-xl ring-2 ring-white shadow-md"},null,8,_e)])]),e("div",Ce,[e("div",{class:c(["bg-white/90 backdrop-blur-xl border-r border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",j.value?"w-80":"w-0",_.value?"fixed inset-y-16 left-0 z-40 shadow-xl":""])},[e("div",{class:"p-4 border-b border-slate-200/50"},[e("div",{class:"flex items-center justify-between"},[t[16]||(t[16]=e("h2",{class:"text-lg font-bold text-slate-800"},"Subject Content",-1)),e("button",{onClick:S,class:"p-1 hover:bg-slate-100 rounded-lg lg:hidden"},[...t[15]||(t[15]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),t[23]||(t[23]=D('<div class="p-4 border-b border-slate-200/50" data-v-a61cc569><div class="flex items-center justify-between text-sm" data-v-a61cc569><span class="text-slate-600" data-v-a61cc569>Progress</span><span class="text-slate-800 font-medium" data-v-a61cc569>3/25 lessons</span></div><div class="mt-2 bg-slate-200 rounded-full h-2" data-v-a61cc569><div class="bg-indigo-500 h-2 rounded-full" style="width:12%;" data-v-a61cc569></div></div></div>',1)),e("div",Me,[(n(!0),a(L,null,I(i.subject?.topics||[],o=>(n(),a("div",{key:o.id,class:"border-b border-slate-200/50"},[e("button",{onClick:r=>le(o.id),class:"w-full p-4 text-left hover:bg-slate-100 transition-colors duration-200"},[e("div",Te,[e("div",ze,[e("div",Be,[U(o)===100?(n(),a("div",Le)):v("",!0)]),e("div",null,[e("h3",Ae,u(o.name),1),e("p",Ee,"0/"+u(o.lessons?.length||0)+" lessons",1)])]),(n(),a("svg",{class:c(["w-5 h-5 text-slate-400 transform transition-transform duration-200",b.value.has(o.id)?"rotate-90":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[17]||(t[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"},null,-1)])],2))])],8,je),b.value.has(o.id)?(n(),a("div",Ve,[(n(!0),a(L,null,I(o.lessons||[],r=>(n(),ve(f(Q),{key:r.id,href:s.route("lessons.show",r.id),class:c(["block py-3 px-6 pl-12 border-l-4 transition-all duration-200 hover:bg-slate-100",r.id===i.lesson.id?"border-indigo-500 bg-slate-100":"border-transparent"])},{default:G(()=>[e("div",Se,[e("div",$e,[z(r)==="video"?(n(),a("div",De,[...t[18]||(t[18]=[e("svg",{fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M8 5v14l11-7z"})],-1)])])):z(r)==="quiz"?(n(),a("div",Ie,[...t[19]||(t[19]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])])):(n(),a("div",He,[...t[20]||(t[20]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)])]))]),e("div",Ne,[e("div",Pe,[e("div",qe,[e("p",{class:c(["text-sm font-medium truncate",r.id===i.lesson.id?"text-indigo-600":"text-slate-800"])},u(r.title),3),e("div",Oe,[z(r)==="video"?(n(),a("span",Fe," MULTIMEDIA ")):z(r)==="quiz"?(n(),a("span",Re," QUIZ - 10 QUESTIONS ")):(n(),a("span",Ue," TEXT ")),t[21]||(t[21]=e("span",{class:"text-xs text-slate-400"},"â€¢",-1)),r.duration_minutes?(n(),a("span",Ke,u(r.formatted_duration),1)):v("",!0)])]),e("div",We,[U(r)===100?(n(),a("div",Ge,[...t[22]||(t[22]=[e("svg",{fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1)])])):(n(),a("div",Qe))])])])])]),_:2},1032,["href","class"]))),128))])):v("",!0)]))),128))])],2),e("div",Xe,[e("div",Ye,[e("div",Ze,[e("div",Je,[e("div",null,[e("h1",et,u(i.lesson.title),1),e("p",tt,u(i.lesson.topic.name),1)]),e("div",st,[e("div",lt,[e("p",ot,"Lesson "+u(i.lesson.order_index+1||1),1)])])])]),e("div",nt,[e("div",at,[i.lesson.video_url?(n(),a("video",{key:0,ref_key:"videoPlayer",ref:l,src:i.lesson.video_url,class:"w-full h-full object-contain video-player-hd",poster:i.lesson.thumbnail_url,playsinline:"",preload:"auto",controlslist:"nodownload",disablepictureinpicture:"false","webkit-playsinline":"","x-webkit-airplay":"allow"},[e("source",{src:i.lesson.video_url,type:"video/mp4"},null,8,rt),e("source",{src:i.lesson.video_url,type:"video/webm"},null,8,dt),e("source",{src:i.lesson.video_url,type:"video/x-matroska"},null,8,ut),t[24]||(t[24]=re(" Your browser does not support the video tag. ",-1))],8,it)):v("",!0),p.value?(n(),a("div",ct,[...t[25]||(t[25]=[D('<div class="flex items-center space-x-3 text-white" data-v-a61cc569><svg class="animate-spin h-8 w-8" fill="none" viewBox="0 0 24 24" data-v-a61cc569><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-a61cc569></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-a61cc569></path></svg><span class="text-sm" data-v-a61cc569>Loading...</span></div>',1)])])):v("",!0),e("div",{class:c(["absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 via-black/60 to-transparent p-4 md:p-6 transition-all duration-300",y.value?"opacity-100 translate-y-0":"opacity-0 translate-y-2"]),onMouseover:t[8]||(t[8]=o=>y.value=!0),onTouchstart:t[9]||(t[9]=o=>y.value=!0)},[e("div",vt,[e("div",ht,[e("div",xt,[e("div",{class:"h-full bg-white/30 rounded-full transition-all duration-200",style:X({width:q.value+"%"})},null,4)]),e("div",{class:"absolute top-0 w-full h-1 cursor-pointer",onClick:ee},[e("div",{class:"h-full bg-blue-500 rounded-full transition-all duration-200 relative",style:X({width:J.value+"%"})},[...t[26]||(t[26]=[e("div",{class:"absolute right-0 top-1/2 transform translate-x-1/2 -translate-y-1/2 w-3 h-3 bg-blue-500 rounded-full shadow-md"},null,-1)])],4)])])]),e("div",ft,[e("div",mt,[e("button",{onClick:V,class:"p-2 hover:bg-white/20 rounded-full transition-colors duration-200"},[m.value?(n(),a("svg",bt,[...t[28]||(t[28]=[e("path",{d:"M6 4h4v16H6zM14 4h4v16h-4z"},null,-1)])])):(n(),a("svg",pt,[...t[27]||(t[27]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])]))]),e("button",{onClick:t[0]||(t[0]=o=>T(-10)),class:"hidden sm:block p-1 hover:bg-white/20 rounded-full transition-colors duration-200"},[...t[29]||(t[29]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0019 16V8a1 1 0 00-1.6-.8l-5.334 4zM4.066 11.2a1 1 0 000 1.6l5.334 4A1 1 0 0011 16V8a1 1 0 00-1.6-.8l-5.334 4z"})],-1)])]),e("button",{onClick:t[1]||(t[1]=o=>T(10)),class:"hidden sm:block p-1 hover:bg-white/20 rounded-full transition-colors duration-200"},[...t[30]||(t[30]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.933 12.8a1 1 0 000-1.6L6.6 7.2A1 1 0 005 8v8a1 1 0 001.6.8l5.333-4zM19.933 12.8a1 1 0 000-1.6l-5.333-4A1 1 0 0013 8v8a1 1 0 001.6.8l5.333-4z"})],-1)])]),e("div",gt,[t[31]||(t[31]=e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15.536 8.464a5 5 0 010 7.072m-2.829-2.829a2.5 2.5 0 010-3.536M6 10H4a1 1 0 00-1 1v2a1 1 0 001 1h2l4 4V6l-4 4z"})],-1)),e("input",{type:"range",min:"0",max:"100",value:H.value*100,onInput:te,class:"w-16 accent-blue-500"},null,40,wt)]),e("div",kt,u(Y.value)+" / "+u(Z.value),1)]),e("div",yt,[e("div",_t,[e("button",Ct,u(P.value)+"x ",1),e("div",Mt,[e("div",jt,[e("button",{onClick:t[2]||(t[2]=o=>k(.5)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"0.5x"),e("button",{onClick:t[3]||(t[3]=o=>k(.75)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"0.75x"),e("button",{onClick:t[4]||(t[4]=o=>k(1)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"1x"),e("button",{onClick:t[5]||(t[5]=o=>k(1.25)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"1.25x"),e("button",{onClick:t[6]||(t[6]=o=>k(1.5)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"1.5x"),e("button",{onClick:t[7]||(t[7]=o=>k(2)),class:"px-2 py-1 text-xs hover:bg-white/20 rounded"},"2x")])])]),e("button",{onClick:F,class:"p-2 hover:bg-white/20 rounded-full transition-colors duration-200"},[...t[32]||(t[32]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"})],-1)])])])])],34),i.lesson.video_url?v("",!0):(n(),a("div",Tt,[...t[33]||(t[33]=[D('<div class="text-center text-white px-4" data-v-a61cc569><svg class="w-16 h-16 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-a61cc569><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z" data-v-a61cc569></path></svg><h3 class="text-lg font-semibold mb-2" data-v-a61cc569>Video not available</h3><p class="text-sm opacity-75" data-v-a61cc569>This lesson doesn&#39;t have a video file uploaded yet.</p></div>',1)])]))])]),e("div",zt,[e("div",Bt,[e("div",Lt,[i.lesson.notes?(n(),a("div",At,[...t[34]||(t[34]=[e("button",{class:"flex items-center space-x-2 hover:text-slate-800 transition-colors"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),e("span",null,"Lesson Notes")],-1)])])):v("",!0)]),t[35]||(t[35]=e("div",null,[e("button",{class:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-xl font-medium transition-colors duration-200 flex items-center space-x-2"},[e("span",null,"COMPLETE & CONTINUE"),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})])])],-1))])])]),e("div",{class:c(["bg-white border-l border-slate-200/50 transition-all duration-300 overflow-hidden flex flex-col",g.value?"w-96":"w-0",_.value?"fixed inset-y-16 right-0 z-40 shadow-xl":""])},[e("div",Et,[e("div",Vt,[e("div",St,[t[37]||(t[37]=e("div",{class:"w-10 h-10 bg-green-500 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})])],-1)),e("div",null,[e("h3",$t,"AI "+u(i.subject?.name||"Agriculture")+" Tutor",1),t[36]||(t[36]=e("div",{class:"flex items-center space-x-1"},[e("div",{class:"w-2 h-2 bg-green-500 rounded-full"}),e("span",{class:"text-sm text-green-600 font-medium"},"Online")],-1))])]),e("button",{onClick:B,class:"p-1 hover:bg-white/50 rounded-lg"},[...t[38]||(t[38]=[e("svg",{class:"w-5 h-5 text-slate-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])]),e("div",{ref_key:"chatContainer",ref:x,class:"flex-1 overflow-y-auto p-4 space-y-4"},[(n(!0),a(L,null,I(E.value,o=>(n(),a("div",{key:o.id,class:c(["flex",o.sender==="user"?"justify-end":"justify-start"])},[e("div",{class:c(["max-w-xs lg:max-w-md px-4 py-3 rounded-2xl",o.sender==="user"?"bg-indigo-500 text-white rounded-br-md":"bg-green-500 text-white rounded-bl-md"])},[e("p",Dt,u(o.message),1),e("p",It,u(o.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})),1)],2)],2))),128))],512),e("div",Ht,[t[40]||(t[40]=e("p",{class:"text-xs text-slate-600 mb-2 italic"}," Hi! I'm your AI Agriculture tutor. Ask me anything about the lesson or agriculture topics! ",-1)),e("div",Nt,[de(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>w.value=o),onKeyup:ce(K,["enter"]),type:"text",placeholder:"Ask me anything about agriculture...",class:"flex-1 px-3 py-2 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"},null,544),[[ue,w.value]]),e("button",{onClick:K,class:"px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded-xl transition-colors duration-200"},[...t[39]||(t[39]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})],-1)])])])])],2)])]),_.value&&j.value?(n(),a("div",{key:0,onClick:S,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):v("",!0),_.value&&g.value?(n(),a("div",{key:1,onClick:B,class:"fixed inset-0 bg-black/50 z-30 lg:hidden"})):v("",!0)])],64))}},Ft=he(Pt,[["__scopeId","data-v-a61cc569"]]);export{Ft as default};
