import{r as y,p as g,k as $,o as r,w as P,b as e,c as p,j as v,i as _,F as M,f as C,t as d,n as S,q as A,d as a,u as o,v as u,g as T,y as D}from"./app-ChbvS8Lv.js";import{_ as q}from"./DashboardLayout-mjdbEwjJ.js";const F={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 mb-8"},z={class:"flex justify-between items-center mb-6"},O={key:0,class:"text-center py-12"},E={key:1,class:"overflow-hidden border border-slate-200/50 rounded-2xl"},I={class:"min-w-full divide-y divide-slate-200/50"},K={class:"bg-white/50 divide-y divide-slate-200/30"},H={class:"px-6 py-4 whitespace-nowrap"},L={class:"flex items-center"},W={class:"text-sm font-medium text-slate-900"},G={class:"px-6 py-4 whitespace-nowrap"},J={class:"text-sm text-slate-600"},Q={class:"px-6 py-4 whitespace-nowrap"},R={class:"text-sm text-slate-900 capitalize"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3"},Z=["onClick"],ee=["onClick"],te={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50"},se={class:"flex justify-between items-center mb-6"},oe={key:0,class:"text-center py-12"},le={key:1,class:"overflow-hidden border border-slate-200/50 rounded-2xl"},ne={class:"min-w-full divide-y divide-slate-200/50"},ie={class:"bg-white/50 divide-y divide-slate-200/30"},ae={class:"px-6 py-4 whitespace-nowrap"},re={class:"flex items-center"},de={class:"text-sm font-medium text-slate-900"},ue={class:"px-6 py-4 whitespace-nowrap"},pe={class:"text-sm text-slate-600"},ce={class:"px-6 py-4 whitespace-nowrap"},me={class:"text-sm font-medium text-slate-900"},xe={class:"px-6 py-4 whitespace-nowrap"},be={class:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-3"},fe=["onClick"],ye=["onClick"],ge={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},ve={class:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 w-full max-w-2xl mx-4 shadow-2xl border border-slate-200/50"},we={class:"text-lg font-semibold mb-4 text-slate-800"},ke={key:0,class:"space-y-3 p-4 bg-blue-50/80 backdrop-blur-sm rounded-2xl border border-blue-200/50"},he={key:1,class:"space-y-3 p-4 bg-emerald-50/80 backdrop-blur-sm rounded-2xl border border-emerald-200/50"},_e={class:"flex items-center"},Me={class:"flex justify-end space-x-4"},Ce=["disabled"],Se={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},Ae={class:"bg-white/95 backdrop-blur-xl rounded-3xl p-6 w-full max-w-2xl mx-4 shadow-2xl border border-slate-200/50"},De={class:"text-lg font-semibold mb-4 text-slate-800"},Ve={class:"grid grid-cols-2 gap-4"},Ne={class:"flex items-center"},Ue={class:"flex justify-end space-x-4"},Be=["disabled"],Pe={__name:"Index",props:{paymentMethods:Array,accessDurations:Array,auth:Object},setup(f){const c=y(!1),m=y(!1),x=y(null),b=y(null),l=g({name:"",key:"",type:"",instructions:"",config:{},is_active:!0}),n=g({name:"",description:"",days:30,price:0,is_active:!0}),k=(i=null)=>{x.value=i,i?(l.name=i.name,l.key=i.key,l.type=i.type,l.instructions=i.instructions||"",l.config={...i.config},l.is_active=i.is_active):(l.reset(),l.is_active=!0),c.value=!0},V=()=>{x.value?l.put(route("admin.payment-settings.payment-methods.update",x.value.id),{onSuccess:()=>{c.value=!1,x.value=null}}):l.post(route("admin.payment-settings.payment-methods.store"),{onSuccess:()=>{c.value=!1}})},N=i=>{confirm(`Are you sure you want to delete "${i.name}"?`)&&g().delete(route("admin.payment-settings.payment-methods.destroy",i.id))},h=(i=null)=>{b.value=i,i?(n.name=i.name,n.description=i.description||"",n.days=i.days,n.price=parseFloat(i.price),n.is_active=i.is_active):(n.reset(),n.days=30,n.price=0,n.is_active=!0),m.value=!0},U=()=>{b.value?n.put(route("admin.payment-settings.access-durations.update",b.value.id),{onSuccess:()=>{m.value=!1,b.value=null}}):n.post(route("admin.payment-settings.access-durations.store"),{onSuccess:()=>{m.value=!1}})},B=i=>{confirm(`Are you sure you want to delete "${i.name}"?`)&&g().delete(route("admin.payment-settings.access-durations.destroy",i.id))},j=()=>{l.config={}};return(i,t)=>(r(),$(q,{title:"Payment Settings",subtitle:"Configure payment methods and pricing options"},{default:P(()=>[e("div",F,[e("div",z,[t[21]||(t[21]=e("div",null,[e("h2",{class:"text-xl font-semibold text-slate-800"},"Payment Methods"),e("p",{class:"text-sm text-slate-500"},"Manage available payment options for students")],-1)),e("button",{onClick:t[0]||(t[0]=s=>k()),class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-semibold hover:from-blue-600 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[20]||(t[20]=[e("span",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),_(" Add Payment Method ")],-1)])])]),f.paymentMethods.length===0?(r(),p("div",O,[...t[22]||(t[22]=[e("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-slate-900"},"No payment methods found",-1),e("p",{class:"mt-1 text-sm text-slate-500"},"Get started by adding your first payment method.",-1)])])):(r(),p("div",E,[e("table",I,[t[24]||(t[24]=e("thead",{class:"bg-slate-50/80"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Key"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Type"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",K,[(r(!0),p(M,null,C(f.paymentMethods,s=>(r(),p("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors duration-150"},[e("td",H,[e("div",L,[t[23]||(t[23]=e("span",{class:"text-2xl mr-3"},"ðŸ’³",-1)),e("span",W,d(s.name),1)])]),e("td",G,[e("span",J,d(s.key),1)]),e("td",Q,[e("span",R,d(s.type.replace("_"," ")),1)]),e("td",X,[e("span",{class:S([s.is_active?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-red-100 text-red-800 border-red-200","inline-flex px-3 py-1 text-xs font-semibold rounded-full border"])},d(s.is_active?"Active":"Inactive"),3)]),e("td",Y,[e("button",{onClick:w=>k(s),class:"text-indigo-600 hover:text-indigo-800 transition-colors duration-150"},"Edit",8,Z),e("button",{onClick:w=>N(s),class:"text-red-600 hover:text-red-800 transition-colors duration-150"},"Delete",8,ee)])]))),128))])])]))]),e("div",te,[e("div",se,[t[26]||(t[26]=e("div",null,[e("h2",{class:"text-xl font-semibold text-slate-800"},"Access Duration Options"),e("p",{class:"text-sm text-slate-500"},"Set pricing and duration options for student access")],-1)),e("button",{onClick:t[1]||(t[1]=s=>h()),class:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-2xl font-semibold hover:from-emerald-600 hover:to-teal-700 transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-1"},[...t[25]||(t[25]=[e("span",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})]),_(" Add Duration Option ")],-1)])])]),f.accessDurations.length===0?(r(),p("div",oe,[...t[27]||(t[27]=[e("svg",{class:"mx-auto h-12 w-12 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-slate-900"},"No duration options found",-1),e("p",{class:"mt-1 text-sm text-slate-500"},"Create pricing tiers and access duration options.",-1)])])):(r(),p("div",le,[e("table",ne,[t[29]||(t[29]=e("thead",{class:"bg-slate-50/80"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Name"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Duration"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Price (MWK)"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Status"),e("th",{class:"px-6 py-4 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",ie,[(r(!0),p(M,null,C(f.accessDurations,s=>(r(),p("tr",{key:s.id,class:"hover:bg-slate-50/50 transition-colors duration-150"},[e("td",ae,[e("div",re,[t[28]||(t[28]=e("span",{class:"text-2xl mr-3"},"â±ï¸",-1)),e("span",de,d(s.name),1)])]),e("td",ue,[e("span",pe,d(s.days)+" day"+d(s.days!==1?"s":""),1)]),e("td",ce,[e("span",me,d(parseFloat(s.price).toLocaleString()),1)]),e("td",xe,[e("span",{class:S([s.is_active?"bg-emerald-100 text-emerald-800 border-emerald-200":"bg-red-100 text-red-800 border-red-200","inline-flex px-3 py-1 text-xs font-semibold rounded-full border"])},d(s.is_active?"Active":"Inactive"),3)]),e("td",be,[e("button",{onClick:w=>h(s),class:"text-indigo-600 hover:text-indigo-800 transition-colors duration-150"},"Edit",8,fe),e("button",{onClick:w=>B(s),class:"text-red-600 hover:text-red-800 transition-colors duration-150"},"Delete",8,ye)])]))),128))])])]))]),c.value?(r(),p("div",ge,[e("div",ve,[e("h3",we,d(x.value?"Edit Payment Method":"Add New Payment Method"),1),e("form",{onSubmit:A(V,["prevent"]),class:"space-y-4"},[e("div",null,[t[30]||(t[30]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Name",-1)),a(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>o(l).name=s),type:"text",required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all duration-200",placeholder:"e.g., TNM Mpamba"},null,512),[[u,o(l).name]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Key",-1)),a(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>o(l).key=s),type:"text",required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all duration-200",placeholder:"e.g., tnm_mpamba"},null,512),[[u,o(l).key]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Type",-1)),a(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>o(l).type=s),onChange:j,required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all duration-200"},[...t[32]||(t[32]=[e("option",{value:""},"Select type",-1),e("option",{value:"mobile_money"},"Mobile Money",-1),e("option",{value:"bank_transfer"},"Bank Transfer",-1)])],544),[[T,o(l).type]])]),o(l).type==="mobile_money"?(r(),p("div",ke,[t[36]||(t[36]=e("h4",{class:"font-medium text-blue-900"},"Mobile Money Configuration",-1)),e("div",null,[t[34]||(t[34]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Phone Number",-1)),a(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>o(l).config.phone_number=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"e.g., +265123456789"},null,512),[[u,o(l).config.phone_number]])]),e("div",null,[t[35]||(t[35]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Merchant Code (Optional)",-1)),a(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>o(l).config.merchant_code=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"e.g., 12345"},null,512),[[u,o(l).config.merchant_code]])])])):v("",!0),o(l).type==="bank_transfer"?(r(),p("div",he,[t[41]||(t[41]=e("h4",{class:"font-medium text-emerald-900"},"Bank Transfer Configuration",-1)),e("div",null,[t[37]||(t[37]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Bank Name",-1)),a(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>o(l).config.bank_name=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"e.g., National Bank of Malawi"},null,512),[[u,o(l).config.bank_name]])]),e("div",null,[t[38]||(t[38]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Account Name",-1)),a(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>o(l).config.account_name=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"e.g., StudySeco School"},null,512),[[u,o(l).config.account_name]])]),e("div",null,[t[39]||(t[39]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Account Number",-1)),a(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>o(l).config.account_number=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"e.g., 1234567890"},null,512),[[u,o(l).config.account_number]])]),e("div",null,[t[40]||(t[40]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Branch (Optional)",-1)),a(e("input",{"onUpdate:modelValue":t[10]||(t[10]=s=>o(l).config.branch=s),type:"text",class:"w-full bg-white/70 border border-slate-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400",placeholder:"e.g., Blantyre Branch"},null,512),[[u,o(l).config.branch]])])])):v("",!0),e("div",null,[t[42]||(t[42]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Instructions",-1)),a(e("textarea",{"onUpdate:modelValue":t[11]||(t[11]=s=>o(l).instructions=s),rows:"3",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-400 transition-all duration-200",placeholder:"Payment instructions for students"},null,512),[[u,o(l).instructions]])]),e("div",_e,[a(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>o(l).is_active=s),type:"checkbox",id:"method_active",class:"mr-2 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[D,o(l).is_active]]),t[43]||(t[43]=e("label",{for:"method_active",class:"text-sm text-slate-700"},"Active",-1))]),e("div",Me,[e("button",{type:"button",onClick:t[13]||(t[13]=s=>c.value=!1),class:"px-6 py-3 border border-slate-300 rounded-2xl text-slate-700 hover:bg-slate-50 transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:o(l).processing,class:"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-2xl font-semibold hover:from-blue-600 hover:to-purple-700 disabled:opacity-50 transition-all duration-200"},d(o(l).processing?"Saving...":"Save"),9,Ce)])],32)])])):v("",!0),m.value?(r(),p("div",Se,[e("div",Ae,[e("h3",De,d(b.value?"Edit Access Duration":"Add New Access Duration"),1),e("form",{onSubmit:A(U,["prevent"]),class:"space-y-4"},[e("div",null,[t[44]||(t[44]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Name",-1)),a(e("input",{"onUpdate:modelValue":t[14]||(t[14]=s=>o(n).name=s),type:"text",required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-all duration-200",placeholder:"e.g., 1 Month Access"},null,512),[[u,o(n).name]])]),e("div",null,[t[45]||(t[45]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Description",-1)),a(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>o(n).description=s),type:"text",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-all duration-200",placeholder:"Optional description"},null,512),[[u,o(n).description]])]),e("div",Ve,[e("div",null,[t[46]||(t[46]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Duration (Days)",-1)),a(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>o(n).days=s),type:"number",min:"1",required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-all duration-200"},null,512),[[u,o(n).days,void 0,{number:!0}]])]),e("div",null,[t[47]||(t[47]=e("label",{class:"block text-sm font-medium text-slate-700 mb-1"},"Price (MWK)",-1)),a(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>o(n).price=s),type:"number",step:"0.01",min:"0",required:"",class:"w-full bg-slate-50/70 border border-slate-200 rounded-2xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-emerald-400 transition-all duration-200"},null,512),[[u,o(n).price,void 0,{number:!0}]])])]),e("div",Ne,[a(e("input",{"onUpdate:modelValue":t[18]||(t[18]=s=>o(n).is_active=s),type:"checkbox",id:"duration_active",class:"mr-2 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500"},null,512),[[D,o(n).is_active]]),t[48]||(t[48]=e("label",{for:"duration_active",class:"text-sm text-slate-700"},"Active",-1))]),e("div",Ue,[e("button",{type:"button",onClick:t[19]||(t[19]=s=>m.value=!1),class:"px-6 py-3 border border-slate-300 rounded-2xl text-slate-700 hover:bg-slate-50 transition-all duration-200"}," Cancel "),e("button",{type:"submit",disabled:o(n).processing,class:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-2xl font-semibold hover:from-emerald-600 hover:to-teal-700 disabled:opacity-50 transition-all duration-200"},d(o(n).processing?"Saving...":"Save"),9,Be)])],32)])])):v("",!0)]),_:1}))}};export{Pe as default};
