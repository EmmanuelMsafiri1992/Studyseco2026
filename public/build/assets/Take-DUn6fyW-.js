import{r as g,p as N,x as k,A as T,E as $,c as l,o as i,a as y,u as m,h as z,w as A,b as e,n as b,t as o,S as R,F as f,f as C,j as L,i as E,d as F,C as I}from"./app-pY9rZ_j6.js";import{_ as U}from"./DashboardLayout-9D_-jepo.js";const D={class:"max-w-4xl mx-auto"},O={class:"bg-white rounded-2xl shadow-sm border-2 border-indigo-200 p-4 mb-6 sticky top-4 z-10"},P={class:"flex items-center justify-between"},Q={class:"flex-1 mx-6"},Y={class:"w-full bg-slate-200 rounded-full h-3"},G={class:"text-right mr-4"},H={class:"text-lg font-bold text-slate-900"},J=["disabled"],K={class:"space-y-6"},W={class:"flex items-start gap-4 mb-4"},X={class:"flex-shrink-0 w-10 h-10 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-sm shadow-lg"},Z={class:"flex-1"},q={class:"text-lg font-medium text-slate-900 mb-2 leading-relaxed"},ee={class:"flex items-center gap-4 text-sm"},te={class:"inline-flex items-center px-2 py-1 bg-purple-50 text-purple-700 rounded-lg"},se={key:0,class:"inline-flex items-center px-2 py-1 bg-blue-50 text-blue-700 rounded-lg"},oe={class:"ml-14 space-y-2"},ae=["name","value","onUpdate:modelValue"],le={class:"ml-3 text-slate-800 font-medium"},ie={class:"mt-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-6 text-center sticky bottom-4"},ne=["disabled"],re={key:0},de={key:1},me={__name:"Take",props:{attempt:Object,exam:Object,questions:Array,timeRemaining:Number},setup(n){const c=n,r=g({}),u=g(c.timeRemaining),x=g(null),d=N({answers:{}});c.questions.forEach(a=>{r.value[a.id]=""});const S=()=>{x.value=setInterval(()=>{u.value>0?u.value--:v()},1e3)},M=a=>{const s=Math.floor(a/60),t=a%60;return`${s}:${t.toString().padStart(2,"0")}`},p=k(()=>u.value/c.timeRemaining*100),j=k(()=>{const a=p.value;return a>50?"text-green-600":a>25?"text-yellow-600":"text-red-600"}),v=()=>{d.answers=r.value,d.post(route("student.mock-exams.submit",c.attempt.id))},_=()=>{confirm("Are you sure you want to submit? You cannot change your answers after submission.")&&v()};return T(()=>{S()}),$(()=>{x.value&&clearInterval(x.value)}),(a,s)=>(i(),l(f,null,[y(m(z),{title:`Take Exam: ${n.exam.title}`},null,8,["title"]),y(U,{title:n.exam.title,subtitle:"MANEB Mock Examination"},{default:A(()=>[e("div",D,[e("div",O,[e("div",P,[e("div",null,[s[0]||(s[0]=e("p",{class:"text-sm text-slate-600"},"Time Remaining",-1)),e("p",{class:b(["text-2xl font-bold",j.value])},o(M(u.value)),3)]),e("div",Q,[e("div",Y,[e("div",{class:b(["h-3 rounded-full transition-all",p.value>25?"bg-green-600":"bg-red-600"]),style:R(`width: ${p.value}%`)},null,6)])]),e("div",G,[s[1]||(s[1]=e("p",{class:"text-sm text-slate-600"},"Questions",-1)),e("p",H,o(n.questions.length),1)]),e("button",{onClick:_,disabled:m(d).processing,class:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-colors font-semibold shadow-lg disabled:opacity-50"}," Submit Exam ",8,J)])]),e("div",K,[(i(!0),l(f,null,C(n.questions,(t,V)=>(i(),l("div",{key:t.id,class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow"},[e("div",W,[e("span",X,o(V+1),1),e("div",Z,[e("p",q,o(t.question),1),e("div",ee,[e("span",te,[s[2]||(s[2]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1)),E(" "+o(t.marks)+" "+o(t.marks===1?"mark":"marks"),1)]),t.topic?(i(),l("span",se,[s[3]||(s[3]=e("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),E(" "+o(t.topic),1)])):L("",!0)])])]),e("div",oe,[(i(!0),l(f,null,C(t.options,(h,w)=>(i(),l("label",{key:w,class:b(["flex items-center p-4 border-2 border-slate-200 rounded-xl hover:bg-indigo-50 hover:border-indigo-300 cursor-pointer transition-all",{"bg-indigo-50 border-indigo-400":r.value[t.id]===h}])},[F(e("input",{type:"radio",name:`question-${t.id}`,value:h,"onUpdate:modelValue":B=>r.value[t.id]=B,class:"w-5 h-5 text-indigo-600 focus:ring-indigo-500"},null,8,ae),[[I,r.value[t.id]]]),e("span",le,o(String.fromCharCode(65+w))+". "+o(h),1)],2))),128))])]))),128))]),e("div",ie,[e("button",{onClick:_,disabled:m(d).processing,class:"px-8 py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white text-lg font-semibold rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"},[m(d).processing?(i(),l("span",re,"Submitting Exam...")):(i(),l("span",de,"Submit Exam"))],8,ne),s[4]||(s[4]=e("p",{class:"text-sm text-slate-600 mt-3"},"Make sure you have answered all questions before submitting",-1))])])]),_:1},8,["title"])],64))}};export{me as default};
