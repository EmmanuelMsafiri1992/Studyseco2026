import{c as o,o as a,a as u,u as g,h as b,w as m,b as t,l as v,i as f,j as n,t as l,n as x,F as L}from"./app-a7mn_iZg.js";import{_ as h}from"./DashboardLayout-CBvliAqr.js";const y={class:"mb-6"},w={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},k={class:"lg:col-span-2"},N={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},p={class:"flex items-center mb-6"},A={class:"text-2xl mr-3"},D={class:"text-xl font-semibold text-slate-900"},C={class:"text-slate-600"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},S={class:"text-slate-900"},V={class:"text-slate-900"},B={class:"text-slate-900 break-all"},R={class:"mt-6"},I={class:"text-slate-900 text-sm bg-slate-50 p-3 rounded-lg break-all"},T={key:0,class:"mt-8 bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},O={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},U={key:0},j={class:"text-sm bg-red-50 border border-red-200 rounded-lg p-3 overflow-x-auto"},F={key:1},J={class:"text-sm bg-green-50 border border-green-200 rounded-lg p-3 overflow-x-auto"},z={class:"lg:col-span-1"},M={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6"},P={key:0,class:"space-y-3"},$={class:"text-slate-900"},q={class:"text-slate-900"},G={key:1},H={key:0,class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},K={class:"space-y-3"},Q={class:"text-slate-900"},W={class:"text-slate-900"},Z={__name:"Show",props:{auditLog:Object},setup(s){const r=d=>d?JSON.stringify(d,null,2):"N/A",c=d=>({created:"âž•",updated:"âœï¸",deleted:"ðŸ—‘ï¸",login:"ðŸ”‘",logout:"ðŸšª",payment:"ðŸ’°",enrollment:"ðŸ“",access_granted:"âœ…",access_revoked:"âŒ",tutor_assigned:"ðŸ‘¨â€ðŸ«",tutor_unassigned:"ðŸ‘¨â€ðŸ«"})[d]||"ðŸ“‹",i=d=>({created:"green",updated:"blue",deleted:"red",login:"emerald",logout:"slate",payment:"yellow",enrollment:"indigo",access_granted:"green",access_revoked:"red",tutor_assigned:"purple",tutor_unassigned:"orange"})[d]||"gray";return(d,e)=>(a(),o(L,null,[u(g(b),{title:"Audit Log Details"}),u(h,{title:"Audit Log Details",subtitle:"Detailed view of system activity"},{default:m(()=>[t("div",y,[u(g(v),{href:d.route("admin.audit.index"),class:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-500"},{default:m(()=>[...e[0]||(e[0]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" Back to Audit Logs ",-1)])]),_:1},8,["href"])]),t("div",w,[t("div",k,[t("div",N,[t("div",p,[t("span",A,l(c(s.auditLog.event)),1),t("div",null,[t("h2",D,l(s.auditLog.event),1),t("p",C,l(s.auditLog.event)+" event by "+l(s.auditLog.user?.name||"System"),1)])]),t("div",E,[t("div",null,[e[1]||(e[1]=t("h3",{class:"text-sm font-medium text-slate-700 mb-2"},"Event Type",-1)),t("span",{class:x(["px-3 py-1 text-sm font-medium rounded-full",i(s.auditLog.event)==="green"?"bg-green-100 text-green-800":i(s.auditLog.event)==="red"?"bg-red-100 text-red-800":i(s.auditLog.event)==="blue"?"bg-blue-100 text-blue-800":i(s.auditLog.event)==="yellow"?"bg-yellow-100 text-yellow-800":i(s.auditLog.event)==="purple"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},l(s.auditLog.event),3)]),t("div",null,[e[2]||(e[2]=t("h3",{class:"text-sm font-medium text-slate-700 mb-2"},"Timestamp",-1)),t("p",S,l(new Date(s.auditLog.created_at).toLocaleString()),1)]),t("div",null,[e[3]||(e[3]=t("h3",{class:"text-sm font-medium text-slate-700 mb-2"},"IP Address",-1)),t("p",V,l(s.auditLog.ip_address||"N/A"),1)]),t("div",null,[e[4]||(e[4]=t("h3",{class:"text-sm font-medium text-slate-700 mb-2"},"URL",-1)),t("p",B,l(s.auditLog.url||"N/A"),1)])]),t("div",R,[e[5]||(e[5]=t("h3",{class:"text-sm font-medium text-slate-700 mb-2"},"User Agent",-1)),t("p",I,l(s.auditLog.user_agent||"N/A"),1)])]),s.auditLog.old_values||s.auditLog.new_values?(a(),o("div",T,[e[8]||(e[8]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Data Changes",-1)),t("div",O,[s.auditLog.old_values?(a(),o("div",U,[e[6]||(e[6]=t("h4",{class:"text-sm font-medium text-slate-700 mb-2"},"Old Values",-1)),t("pre",j,[t("code",null,l(r(s.auditLog.old_values)),1)])])):n("",!0),s.auditLog.new_values?(a(),o("div",F,[e[7]||(e[7]=t("h4",{class:"text-sm font-medium text-slate-700 mb-2"},"New Values",-1)),t("pre",J,[t("code",null,l(r(s.auditLog.new_values)),1)])])):n("",!0)])])):n("",!0)]),t("div",z,[t("div",M,[e[13]||(e[13]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"User Information",-1)),s.auditLog.user?(a(),o("div",P,[t("div",null,[e[9]||(e[9]=t("h4",{class:"text-sm font-medium text-slate-700"},"Name",-1)),t("p",$,l(s.auditLog.user.name),1)]),t("div",null,[e[10]||(e[10]=t("h4",{class:"text-sm font-medium text-slate-700"},"Email",-1)),t("p",q,l(s.auditLog.user.email),1)]),t("div",null,[e[11]||(e[11]=t("h4",{class:"text-sm font-medium text-slate-700"},"Role",-1)),t("span",{class:x(["px-2 py-1 text-xs font-medium rounded-full",s.auditLog.user.role==="admin"?"bg-purple-100 text-purple-800":s.auditLog.user.role==="teacher"?"bg-blue-100 text-blue-800":s.auditLog.user.role==="student"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"])},l(s.auditLog.user.role),3)])])):(a(),o("div",G,[...e[12]||(e[12]=[t("p",{class:"text-slate-500"},"System Event",-1)])]))]),s.auditLog.model_type?(a(),o("div",H,[e[16]||(e[16]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Affected Resource",-1)),t("div",K,[t("div",null,[e[14]||(e[14]=t("h4",{class:"text-sm font-medium text-slate-700"},"Resource Type",-1)),t("p",Q,l(s.auditLog.model_type?.split("\\").pop()),1)]),t("div",null,[e[15]||(e[15]=t("h4",{class:"text-sm font-medium text-slate-700"},"Resource ID",-1)),t("p",W,l(s.auditLog.model_id),1)])])])):n("",!0)])])]),_:1})],64))}};export{Z as default};
