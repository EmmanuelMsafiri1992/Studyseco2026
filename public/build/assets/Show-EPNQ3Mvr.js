import{c as o,o as l,a as d,u,h,w as c,b as t,t as n,n as v,j as i,l as g,i as b,F as k}from"./app-C2UhUgz_.js";import{_ as p}from"./DashboardLayout-D4NcXOPq.js";const w={class:"space-y-8"},M={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-slate-200/50"},j={class:"flex items-center justify-between mb-6"},S={class:"text-2xl font-bold text-slate-800"},D={class:"text-slate-600"},P={class:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl p-6 text-white mb-6"},A={class:"text-center"},N={class:"text-3xl font-bold mb-2"},_={class:"text-indigo-100"},R={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-slate-200/50"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},C={class:"space-y-4"},V={class:"text-slate-800 font-semibold"},U={class:"text-slate-800 font-mono"},W={class:"text-slate-800"},F={class:"space-y-4"},K={class:"text-slate-800"},T={class:"text-slate-800"},$={key:0},z={class:"text-slate-800"},E={key:0,class:"mt-6 p-4 bg-slate-50 rounded-xl"},I={class:"text-slate-800"},O={key:1,class:"mt-6 p-4 bg-red-50 border border-red-200 rounded-xl"},Z={class:"text-red-800"},G={class:"flex justify-between items-center"},H={key:0,class:"space-x-4"},Q={__name:"Show",props:{auth:Object,payment:Object},setup(s){const m=s;m.auth?.user;const y=(a,e="MWK")=>(e==="MWK"?"MWK ":e==="ZAR"?"ZAR ":e==="USD"?"USD ":e+" ")+new Intl.NumberFormat().format(a),r=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=a=>a.paymentMethod?a.paymentMethod.name:{tnm_mpamba:"TNM Mpamba",airtel_money:"Airtel Money",mukuru:"Mukuru",worldremit:"WorldRemit",western_union:"Western Union",moneygram:"MoneyGram",bank_transfer:"Bank Transfer"}[a.payment_method]||"Unknown Method",f=()=>{window.open(route("payments.receipt",m.payment.id),"_blank")};return(a,e)=>(l(),o(k,null,[d(u(h),{title:`Payment #${s.payment.id}`},null,8,["title"]),d(p,{title:"Payment Details",subtitle:`Payment #${s.payment.id}`},{default:c(()=>[t("div",w,[t("div",M,[t("div",j,[t("div",null,[t("h1",S,"Payment #"+n(s.payment.id),1),t("p",D,"Submitted on "+n(r(s.payment.created_at)),1)]),t("div",{class:v(["px-4 py-2 rounded-full text-sm font-semibold",s.payment.status==="pending"?"bg-amber-100 text-amber-800":s.payment.status==="verified"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(s.payment.status.charAt(0).toUpperCase()+s.payment.status.slice(1)),3)]),t("div",P,[t("div",A,[t("div",N,n(y(s.payment.calculated_amount||s.payment.amount,s.payment.currency)),1),t("div",_,n(s.payment.payment_type==="subject_increase"?"Subject Addition Payment":"Access Payment"),1)])])]),t("div",R,[e[8]||(e[8]=t("h2",{class:"text-xl font-bold text-slate-800 mb-6"},"Payment Information",-1)),t("div",B,[t("div",C,[t("div",null,[e[0]||(e[0]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Payment Method",-1)),t("div",V,n(x(s.payment)),1)]),t("div",null,[e[1]||(e[1]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Reference Number",-1)),t("div",U,n(s.payment.reference_number),1)]),t("div",null,[e[2]||(e[2]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Access Duration",-1)),t("div",W,n(s.payment.access_duration_days||30)+" days",1)])]),t("div",F,[t("div",null,[e[3]||(e[3]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Student",-1)),t("div",K,n(s.payment.enrollment?.user?.name||s.payment.enrollment?.name),1)]),t("div",null,[e[4]||(e[4]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Email",-1)),t("div",T,n(s.payment.enrollment?.email),1)]),s.payment.verified_at?(l(),o("div",$,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-slate-500 mb-1"},"Verified Date",-1)),t("div",z,n(r(s.payment.verified_at)),1)])):i("",!0)])]),s.payment.admin_notes?(l(),o("div",E,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-slate-500 mb-2"},"Admin Notes",-1)),t("div",I,n(s.payment.admin_notes),1)])):i("",!0),s.payment.status==="rejected"&&s.payment.admin_notes?(l(),o("div",O,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-red-700 mb-2"},"Rejection Reason",-1)),t("div",Z,n(s.payment.admin_notes),1)])):i("",!0)]),t("div",G,[d(u(g),{href:a.route("payments.index"),class:"inline-flex items-center px-6 py-3 bg-slate-500 hover:bg-slate-600 text-white font-medium rounded-2xl transition-colors duration-200"},{default:c(()=>[...e[9]||(e[9]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1),b(" Back to Payments ",-1)])]),_:1},8,["href"]),s.payment.status==="verified"?(l(),o("div",H,[t("button",{onClick:f,class:"inline-flex items-center px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-2xl transition-colors duration-200"},[...e[10]||(e[10]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),b(" Download Receipt ",-1)])])])):i("",!0)])])]),_:1},8,["subtitle"])],64))}};export{Q as default};
