import{r as j,c as r,o as a,a as m,u,h as S,w as c,b as e,t as l,d as x,F as p,f as b,g as C,v,n as T,l as g,i as f,k as h,j as w,m as y}from"./app-CUT9d-xB.js";import{_ as V}from"./DashboardLayout-C96m34Bm.js";const A={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},B={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},E={class:"flex items-center justify-between"},z={class:"text-2xl font-bold text-slate-900"},D={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},F={class:"flex items-center justify-between"},M={class:"text-2xl font-bold text-slate-900"},U={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},N={class:"flex items-center justify-between"},I={class:"text-2xl font-bold text-slate-900"},O={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200"},q={class:"flex items-center justify-between"},H={class:"text-2xl font-bold text-slate-900"},P={class:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-8"},R={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},$=["value"],G={class:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden"},J={class:"overflow-x-auto"},K={class:"w-full"},Q={class:"divide-y divide-slate-200"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"flex items-center"},Y={class:"text-lg mr-2"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={key:0},te={class:"text-sm font-medium text-slate-900"},se={class:"text-sm text-slate-500"},le={key:1,class:"text-sm text-slate-500"},oe={class:"px-6 py-4"},de={class:"text-sm text-slate-900"},ae={class:"px-6 py-4 whitespace-nowrap text-sm text-slate-500"},re={class:"px-6 py-4 whitespace-nowrap text-sm text-slate-500"},ne={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},ie={class:"px-6 py-4 border-t border-slate-200"},ue={class:"flex items-center justify-between"},ce={class:"text-sm text-slate-700"},xe={class:"flex items-center space-x-2"},ge={__name:"Index",props:{auditLogs:Object,stats:Object,eventTypes:Array,filters:Object},setup(o){const d=j(o.filters||{}),_=()=>{y.get(route("admin.audit.index"),d.value,{preserveState:!0,replace:!0})},k=()=>{d.value={},y.get(route("admin.audit.index"))},L=i=>({created:"âž•",updated:"âœï¸",deleted:"ðŸ—‘ï¸",login:"ðŸ”‘",logout:"ðŸšª",payment:"ðŸ’°",enrollment:"ðŸ“",access_granted:"âœ…",access_revoked:"âŒ",tutor_assigned:"ðŸ‘¨â€ðŸ«",tutor_unassigned:"ðŸ‘¨â€ðŸ«"})[i]||"ðŸ“‹",n=i=>({created:"green",updated:"blue",deleted:"red",login:"emerald",logout:"slate",payment:"yellow",enrollment:"indigo",access_granted:"green",access_revoked:"red",tutor_assigned:"purple",tutor_unassigned:"orange"})[i]||"gray";return(i,t)=>(a(),r(p,null,[m(u(S),{title:"Audit Logs"}),m(V,{title:"Audit Trail",subtitle:"System security and activity logs"},{default:c(()=>[e("div",A,[e("div",B,[e("div",E,[e("div",null,[t[4]||(t[4]=e("p",{class:"text-sm font-medium text-slate-600"},"Total Events",-1)),e("p",z,l(o.stats.total_events?.toLocaleString()||0),1)]),t[5]||(t[5]=e("div",{class:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})])],-1))])]),e("div",D,[e("div",F,[e("div",null,[t[6]||(t[6]=e("p",{class:"text-sm font-medium text-slate-600"},"Unique Users",-1)),e("p",M,l(o.stats.unique_users?.toLocaleString()||0),1)]),t[7]||(t[7]=e("div",{class:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})])],-1))])]),e("div",U,[e("div",N,[e("div",null,[t[8]||(t[8]=e("p",{class:"text-sm font-medium text-slate-600"},"Events Today",-1)),e("p",I,l(o.stats.events_today?.toLocaleString()||0),1)]),t[9]||(t[9]=e("div",{class:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1))])]),e("div",O,[e("div",q,[e("div",null,[t[10]||(t[10]=e("p",{class:"text-sm font-medium text-slate-600"},"Critical Events",-1)),e("p",H,l(o.stats.critical_events?.toLocaleString()||0),1)]),t[11]||(t[11]=e("div",{class:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1))])])]),e("div",P,[e("div",R,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Event Type",-1)),x(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.event_type=s),class:"w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500"},[t[12]||(t[12]=e("option",{value:""},"All Types",-1)),(a(!0),r(p,null,b(o.eventTypes,s=>(a(),r("option",{key:s,value:s},l(s),9,$))),128))],512),[[C,d.value.event_type]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Date From",-1)),x(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.date_from=s),type:"date",class:"w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[v,d.value.date_from]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Date To",-1)),x(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.date_to=s),type:"date",class:"w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[v,d.value.date_to]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Search",-1)),x(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.value.search=s),type:"text",placeholder:"Search events...",class:"w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500"},null,512),[[v,d.value.search]])])]),e("div",{class:"flex items-center space-x-4 mt-4"},[e("button",{onClick:_,class:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"}," Apply Filters "),e("button",{onClick:k,class:"px-4 py-2 bg-slate-200 text-slate-700 rounded-lg hover:bg-slate-300 transition-colors"}," Clear Filters ")])]),e("div",G,[t[21]||(t[21]=e("div",{class:"px-6 py-4 border-b border-slate-200"},[e("h3",{class:"text-lg font-semibold text-slate-900"},"Recent Activity")],-1)),e("div",J,[e("table",K,[t[18]||(t[18]=e("thead",{class:"bg-slate-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Event"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"User"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Description"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"IP Address"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Time"),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider"},"Actions")])],-1)),e("tbody",Q,[(a(!0),r(p,null,b(o.auditLogs.data,s=>(a(),r("tr",{key:s.id,class:"hover:bg-slate-50"},[e("td",W,[e("div",X,[e("span",Y,l(L(s.event)),1),e("span",{class:T(["px-2 py-1 text-xs font-medium rounded-full",n(s.event)==="green"?"bg-green-100 text-green-800":n(s.event)==="red"?"bg-red-100 text-red-800":n(s.event)==="blue"?"bg-blue-100 text-blue-800":n(s.event)==="yellow"?"bg-yellow-100 text-yellow-800":n(s.event)==="purple"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"])},l(s.event),3)])]),e("td",Z,[s.user?(a(),r("div",ee,[e("div",te,l(s.user.name),1),e("div",se,l(s.user.email),1)])):(a(),r("div",le,"System"))]),e("td",oe,[e("div",de,l(s.event)+" event by "+l(s.user?.name||"System"),1)]),e("td",ae,l(s.ip_address||"N/A"),1),e("td",re,l(new Date(s.created_at).toLocaleString()),1),e("td",ne,[m(u(g),{href:i.route("admin.audit.show",s.id),class:"text-indigo-600 hover:text-indigo-900"},{default:c(()=>[...t[17]||(t[17]=[f(" View Details ",-1)])]),_:2},1032,["href"])])]))),128))])])]),e("div",ie,[e("div",ue,[e("div",ce," Showing "+l(o.auditLogs.from||0)+" to "+l(o.auditLogs.to||0)+" of "+l(o.auditLogs.total||0)+" results ",1),e("div",xe,[o.auditLogs.prev_page_url?(a(),h(u(g),{key:0,href:o.auditLogs.prev_page_url,class:"px-3 py-1 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors"},{default:c(()=>[...t[19]||(t[19]=[f(" Previous ",-1)])]),_:1},8,["href"])):w("",!0),o.auditLogs.next_page_url?(a(),h(u(g),{key:1,href:o.auditLogs.next_page_url,class:"px-3 py-1 bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors"},{default:c(()=>[...t[20]||(t[20]=[f(" Next ",-1)])]),_:1},8,["href"])):w("",!0)])])])])]),_:1})],64))}};export{ge as default};
