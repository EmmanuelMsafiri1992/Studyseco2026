import{r as w,p as j,c as o,o as i,a as x,u as l,h as B,w as c,b as t,l as h,i as g,j as r,t as n,q as p,d as V,n as y,v as T,F}from"./app-CRjWoFff.js";import{_ as O}from"./DashboardLayout-1zt2QAKD.js";const z={class:"mb-4"},P={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Y={class:"lg:col-span-2"},I={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6"},N={class:"mb-6"},U={class:"text-2xl font-bold text-slate-900 mb-2"},G={class:"text-slate-700"},L={key:0,class:"mb-6"},q={class:"p-4 bg-slate-50 rounded-lg"},H={class:"text-slate-700 whitespace-pre-wrap"},R={key:1,class:"mb-6"},X=["href"],_={key:2},E={class:"text-lg font-semibold text-slate-900 mb-4"},W={key:0,class:"mt-1 text-sm text-red-600"},Z={key:0,class:"mt-2"},$={key:1,class:"mt-2 flex items-center gap-3 p-3 bg-slate-50 rounded-lg"},J={class:"flex-1"},K={class:"text-sm font-medium text-slate-900"},Q={key:2,class:"mt-1 text-sm text-red-600"},tt={class:"flex items-center justify-between pt-4 border-t border-slate-200"},et={class:"text-sm text-slate-600"},st=["disabled"],nt={key:3,class:"p-6 bg-green-50 rounded-lg text-center"},ot={key:4,class:"p-6 bg-red-50 rounded-lg text-center"},it={class:"lg:col-span-1"},lt={class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6 mb-6"},at={class:"space-y-4"},dt={class:"text-sm font-medium text-slate-900"},rt={class:"text-sm font-medium text-slate-900"},mt={class:"text-sm font-medium text-slate-900"},ut={class:"text-sm font-medium text-slate-900"},xt={key:0,class:"text-xs text-red-600 mt-1"},bt={class:"text-sm font-medium text-slate-900"},ct={key:0,class:"bg-white rounded-2xl shadow-sm border border-slate-200 p-6"},gt={class:"space-y-4"},ht={class:"text-sm font-medium text-slate-900"},ft={key:0},vt={class:"text-2xl font-bold text-green-600"},wt={class:"text-sm text-slate-600"},kt={__name:"Show",props:{assignment:Object,mySubmission:Object},setup(s){const m=s,u=w(null),b=w(null),a=j({content:m.mySubmission?.content||"",attachment:null}),k=()=>{u.value.click()},S=()=>{const d=u.value.files[0];d&&(a.attachment=d,b.value=d.name)},A=()=>{a.attachment=null,b.value=null,u.value&&(u.value.value=null)},C=()=>{a.post(route("student.assignments.submit",m.assignment.id),{preserveScroll:!0})},f=d=>new Date(d).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=d=>new Date(d)<new Date,D=()=>!(m.mySubmission?.graded_at||v(m.assignment.due_date)&&!m.assignment.allow_late_submissions);return(d,e)=>(i(),o(F,null,[x(l(B),{title:s.assignment.title},null,8,["title"]),x(O,{title:s.assignment.title,subtitle:"Assignment Details"},{default:c(()=>[t("div",z,[x(l(h),{href:d.route("student.assignments.index"),class:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800"},{default:c(()=>[...e[1]||(e[1]=[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),g(" Back to Assignments ",-1)])]),_:1},8,["href"])]),t("div",P,[t("div",Y,[t("div",I,[t("div",N,[t("h2",U,n(s.assignment.title),1),t("p",G,n(s.assignment.description),1)]),s.assignment.instructions?(i(),o("div",L,[e[2]||(e[2]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-3"},"Instructions",-1)),t("div",q,[t("p",H,n(s.assignment.instructions),1)])])):r("",!0),s.assignment.attachment_url?(i(),o("div",R,[e[4]||(e[4]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-3"},"Assignment Materials",-1)),t("a",{href:s.assignment.attachment_url,target:"_blank",class:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-50 text-indigo-700 rounded-lg hover:bg-indigo-100 transition-colors"},[...e[3]||(e[3]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),g(" Download Assignment File ",-1)])],8,X)])):r("",!0),D()?(i(),o("div",_,[t("h3",E,n(s.mySubmission?"Update Your Submission":"Submit Your Work"),1),t("form",{onSubmit:p(C,["prevent"]),class:"space-y-6"},[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Your Response *",-1)),V(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=M=>l(a).content=M),rows:"8",required:"",class:y(["w-full rounded-lg border-slate-300 focus:border-indigo-500 focus:ring-indigo-500",{"border-red-300":l(a).errors.content}]),placeholder:"Type your response here..."},null,2),[[T,l(a).content]]),l(a).errors.content?(i(),o("p",W,n(l(a).errors.content),1)):r("",!0)]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Attachment (Optional)",-1)),e[9]||(e[9]=t("p",{class:"text-xs text-slate-500 mb-2"},"Upload your completed work (PDF, DOC, DOCX, TXT, ZIP - Max 10MB)",-1)),t("input",{type:"file",ref_key:"attachmentInput",ref:u,class:"hidden",onChange:S,accept:".pdf,.doc,.docx,.txt,.zip"},null,544),b.value?(i(),o("div",$,[e[7]||(e[7]=t("svg",{class:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t("div",J,[t("p",K,n(b.value),1)]),t("button",{type:"button",onClick:A,class:"text-red-600 hover:text-red-800"},[...e[6]||(e[6]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(i(),o("div",Z,[t("button",{type:"button",onClick:p(k,["prevent"]),class:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors"}," Choose File ")])),l(a).errors.attachment?(i(),o("p",Q,n(l(a).errors.attachment),1)):r("",!0)]),t("div",tt,[t("p",et,n(s.mySubmission?"You can update your submission until it is graded.":"Make sure to review your work before submitting."),1),t("button",{type:"submit",disabled:l(a).processing,class:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},n(l(a).processing?"Submitting...":s.mySubmission?"Update Submission":"Submit Assignment"),9,st)])],32)])):s.mySubmission?.graded_at?(i(),o("div",nt,[e[11]||(e[11]=t("svg",{class:"w-12 h-12 mx-auto text-green-600 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e[12]||(e[12]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-2"},"Assignment Graded",-1)),e[13]||(e[13]=t("p",{class:"text-slate-600 mb-4"},"This assignment has been graded by your teacher.",-1)),x(l(h),{href:d.route("student.assignments.viewSubmission",s.assignment.id),class:"inline-flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors"},{default:c(()=>[...e[10]||(e[10]=[g(" View Your Grade ",-1)])]),_:1},8,["href"])])):(i(),o("div",ot,[...e[14]||(e[14]=[t("svg",{class:"w-12 h-12 mx-auto text-red-600 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),t("h3",{class:"text-lg font-semibold text-slate-900 mb-2"},"Assignment Overdue",-1),t("p",{class:"text-slate-600"},"The due date for this assignment has passed and late submissions are not allowed.",-1)])]))])]),t("div",it,[t("div",lt,[e[20]||(e[20]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Assignment Info",-1)),t("div",at,[t("div",null,[e[15]||(e[15]=t("p",{class:"text-xs text-slate-500 mb-1"},"Subject",-1)),t("p",dt,n(s.assignment.subject?.name),1)]),t("div",null,[e[16]||(e[16]=t("p",{class:"text-xs text-slate-500 mb-1"},"Teacher",-1)),t("p",rt,n(s.assignment.teacher?.name),1)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-xs text-slate-500 mb-1"},"Total Points",-1)),t("p",mt,n(s.assignment.total_points),1)]),t("div",null,[e[18]||(e[18]=t("p",{class:"text-xs text-slate-500 mb-1"},"Due Date",-1)),t("p",ut,n(f(s.assignment.due_date)),1),v(s.assignment.due_date)?(i(),o("p",xt,"Overdue")):r("",!0)]),t("div",null,[e[19]||(e[19]=t("p",{class:"text-xs text-slate-500 mb-1"},"Late Submissions",-1)),t("p",bt,n(s.assignment.allow_late_submissions?"Allowed":"Not Allowed"),1)])])]),s.mySubmission?(i(),o("div",ct,[e[25]||(e[25]=t("h3",{class:"text-lg font-semibold text-slate-900 mb-4"},"Your Submission",-1)),t("div",gt,[t("div",null,[e[21]||(e[21]=t("p",{class:"text-xs text-slate-500 mb-1"},"Status",-1)),t("span",{class:y(["inline-block px-2 py-1 text-xs font-medium rounded-full",s.mySubmission.graded_at?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"])},n(s.mySubmission.graded_at?"Graded":"Pending Review"),3)]),t("div",null,[e[22]||(e[22]=t("p",{class:"text-xs text-slate-500 mb-1"},"Submitted At",-1)),t("p",ht,n(f(s.mySubmission.submitted_at)),1)]),s.mySubmission.graded_at?(i(),o("div",ft,[e[23]||(e[23]=t("p",{class:"text-xs text-slate-500 mb-1"},"Score",-1)),t("p",vt,n(s.mySubmission.score)+"/"+n(s.assignment.total_points),1),t("p",wt,n((s.mySubmission.score/s.assignment.total_points*100).toFixed(1))+"%",1)])):r("",!0),x(l(h),{href:d.route("student.assignments.viewSubmission",s.assignment.id),class:"block w-full px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors text-center text-sm"},{default:c(()=>[...e[24]||(e[24]=[g(" View Full Submission ",-1)])]),_:1},8,["href"])])])):r("",!0)])])]),_:1},8,["title"])],64))}};export{kt as default};
