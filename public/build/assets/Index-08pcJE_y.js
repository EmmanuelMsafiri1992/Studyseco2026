import{r as v,x as b,c as i,o as a,a as C,u as h,h as z,w as B,b as e,t as n,j as u,n as d,i as y,F as w,d as A,v as L,f as S,m as o}from"./app-a7mn_iZg.js";import{_ as $}from"./DashboardLayout-CBvliAqr.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const V={class:"mb-8"},W={class:"flex justify-between items-center"},H={class:"text-2xl font-bold text-slate-800"},E={class:"flex items-center space-x-4"},T={key:0,class:"flex items-center space-x-2"},I={class:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-medium"},R={key:0,class:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8"},G={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},K={class:"text-lg font-bold text-slate-900"},F={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},O={class:"text-lg font-bold text-slate-900"},U={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},q={class:"text-lg font-bold text-slate-900"},J={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},Q={class:"text-lg font-bold text-slate-900"},Y={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},X={class:"text-lg font-bold text-slate-900"},Z={class:"bg-white/80 backdrop-blur-sm rounded-2xl p-4 text-center shadow-lg border border-slate-200/50 hover:shadow-xl transition-all"},ee={class:"text-lg font-bold text-slate-900"},te={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 mb-8"},se={class:"flex flex-col lg:flex-row gap-6 items-start lg:items-center justify-between"},re={class:"flex flex-wrap gap-2"},oe={key:0,class:"ml-1 px-2 py-0.5 bg-white/20 rounded-full text-xs"},le={class:"relative"},ie={class:"space-y-4"},ae={key:0,class:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-slate-200/50 p-12 text-center"},ne={class:"text-slate-600"},de=["onClick"],ue={class:"flex items-start space-x-4"},me={class:"flex-shrink-0"},ce={key:0,class:"relative"},xe=["src","alt"],ge={xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},pe=["d"],he={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},we=["d"],ve={class:"flex-1 min-w-0"},be={class:"flex items-center justify-between mb-2"},ye={class:"flex items-center space-x-3 flex-shrink-0 ml-4"},fe={class:"px-2 py-1 rounded-full text-xs font-medium capitalize bg-slate-100 text-slate-700"},ke={key:0,class:"w-2 h-2 bg-indigo-500 rounded-full"},_e={class:"flex items-center justify-between"},je={class:"flex items-center space-x-4"},Ce={class:"text-xs text-slate-500 flex items-center"},Me={key:0,class:"text-xs font-semibold text-green-600"},De={key:1,class:"text-xs px-2 py-1 rounded-full bg-blue-100 text-blue-800"},Ne={key:0,class:"flex items-center text-xs text-red-600 font-medium"},ze={__name:"Index",props:{auth:Object,notifications:Array},setup(M){const f=M,x=f.auth?.user||{name:"Guest",role:"guest"},g=v(f.notifications||[{id:1,type:"enrollment",title:"New Student Enrollment",description:"Alex Kumar has enrolled in Grade 11 Mathematics and Science programs",time:"5 minutes ago",timestamp:new Date(Date.now()-300*1e3),read:!1,priority:"normal",avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=40&h=40&fit=crop&crop=face"},{id:2,type:"payment",title:"Payment Received",description:"Lisa Park successfully paid MWK 85,000 for 1-year access subscription",time:"12 minutes ago",timestamp:new Date(Date.now()-720*1e3),read:!1,priority:"high",amount:"MWK 85,000"},{id:3,type:"alert",title:"Low Attendance Warning",description:"Grade 9A Mathematics class attendance has dropped below 75% threshold",time:"1 hour ago",timestamp:new Date(Date.now()-3600*1e3),read:!0,priority:"high"},{id:4,type:"assignment",title:"Assignment Submitted",description:"John Mwangi submitted Physics Lab Report - Wave Properties assignment",time:"2 hours ago",timestamp:new Date(Date.now()-7200*1e3),read:!0,priority:"normal",subject:"Physics"},{id:5,type:"system",title:"System Maintenance",description:"Scheduled maintenance window completed. All services are now operational",time:"3 hours ago",timestamp:new Date(Date.now()-10800*1e3),read:!0,priority:"low"},{id:6,type:"message",title:"New Support Ticket",description:"Sarah Phiri created a new support ticket regarding login issues",time:"4 hours ago",timestamp:new Date(Date.now()-14400*1e3),read:!1,priority:"normal"}]),l=v("all"),c=v(""),k=b(()=>{let r=g.value;if(l.value!=="all"&&(l.value==="unread"?r=r.filter(t=>!t.read):r=r.filter(t=>t.type===l.value)),c.value){const t=c.value.toLowerCase();r=r.filter(s=>s.title.toLowerCase().includes(t)||s.description.toLowerCase().includes(t))}return r.sort((t,s)=>new Date(s.timestamp)-new Date(t.timestamp))}),p=b(()=>g.value.filter(r=>!r.read).length),m=b(()=>{const r={enrollment:0,payment:0,alert:0,assignment:0,system:0,message:0};return g.value.forEach(t=>{r.hasOwnProperty(t.type)&&r[t.type]++}),r}),D=r=>{r.read=!0,r.id&&!r.id.toString().includes("_")&&o.post(route("notifications.read",r.id));const t=x.role;try{if(r.type==="enrollment")if(t==="admin")if(r.id.startsWith("enrollment_")){const s=r.id.replace("enrollment_","");o.visit(route("admin.enrollments.show",s))}else o.visit(route("admin.enrollments.index"));else o.visit(route("dashboard"));else r.type==="payment"?t==="admin"?r.id.startsWith("payment_")?o.visit(route("payments.index")):o.visit(route("admin.enrollments.index")):o.visit(route("payments.create")):r.type==="alert"?r.id==="pending_enrollments"?o.visit(route("admin.enrollments.index")):r.id==="trial_expiry"?o.visit(route("student.extension")):o.visit(route("dashboard")):r.type==="assignment"?o.visit(route("subjects.index")):r.type==="system"?t==="admin"?o.visit(route("admin.system-settings.index")):o.visit(route("dashboard")):r.type==="message"?o.visit(route("chat.index")):r.type==="welcome"?o.visit(route("dashboard")):r.type==="warning"?r.id==="trial_expiry"?o.visit(route("student.extension")):o.visit(route("dashboard")):r.type==="account"?o.visit(route("profile.edit")):o.visit(route("dashboard"))}catch(s){console.error("Navigation error:",s),o.visit(route("dashboard"))}},N=()=>{g.value.forEach(r=>r.read=!0)},_=r=>{const t={enrollment:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z",payment:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z",alert:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z",assignment:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",system:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.82 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.82 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.82-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.82-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z",message:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.645C4.925 15.355 6 13.668 6 12c0-4.97 4.03-9 9-9s9 4.03 9 9z"};return t[r]||t.system},j=r=>{const t={enrollment:{bg:"from-primary-500 to-primary-600",text:"text-primary-600",badge:"bg-primary-100 text-primary-800"},payment:{bg:"from-success-500 to-success-600",text:"text-success-600",badge:"bg-success-100 text-success-800"},alert:{bg:"from-warning-500 to-warning-600",text:"text-warning-600",badge:"bg-warning-100 text-warning-800"},assignment:{bg:"from-accent-500 to-accent-600",text:"text-accent-600",badge:"bg-accent-100 text-accent-800"},system:{bg:"from-secondary-500 to-secondary-600",text:"text-secondary-600",badge:"bg-secondary-100 text-secondary-800"},message:{bg:"from-primary-500 to-primary-600",text:"text-primary-600",badge:"bg-primary-100 text-primary-800"}};return t[r]||t.system};return(r,t)=>(a(),i(w,null,[C(h(z),{title:"Notifications"}),C($,{title:"Notifications",subtitle:"Stay updated with important activities and alerts"},{default:B(()=>[e("div",V,[e("div",W,[e("h2",H,n(h(x).role==="admin"?"All Notifications":"My Notifications"),1),e("div",E,[p.value>0?(a(),i("div",T,[e("span",I,n(p.value)+" unread",1),e("button",{onClick:N,class:"bg-slate-100 hover:bg-slate-200 px-4 py-2 rounded-lg text-sm font-medium transition-colors"}," Mark all as read ")])):u("",!0)])])]),e("div",null,[h(x).role==="admin"?(a(),i("div",R,[e("div",G,[t[9]||(t[9]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("path",{d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])],-1)),e("div",K,n(m.value.enrollment),1),t[10]||(t[10]=e("div",{class:"text-xs text-slate-600"},"Enrollments",-1))]),e("div",F,[t[11]||(t[11]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-green-500 to-emerald-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("rect",{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"}),e("line",{x1:"1",y1:"10",x2:"23",y2:"10"})])],-1)),e("div",O,n(m.value.payment),1),t[12]||(t[12]=e("div",{class:"text-xs text-slate-600"},"Payments",-1))]),e("div",U,[t[13]||(t[13]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-yellow-500 to-orange-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})])],-1)),e("div",q,n(m.value.alert),1),t[14]||(t[14]=e("div",{class:"text-xs text-slate-600"},"Alerts",-1))]),e("div",J,[t[15]||(t[15]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14,2 14,8 20,8"})])],-1)),e("div",Q,n(m.value.assignment),1),t[16]||(t[16]=e("div",{class:"text-xs text-slate-600"},"Assignments",-1))]),e("div",Y,[t[17]||(t[17]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-slate-500 to-slate-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("circle",{cx:"12",cy:"12",r:"3"}),e("path",{d:"M12 1v6m0 6v6m11-7h-6m-6 0H1"})])],-1)),e("div",X,n(m.value.system),1),t[18]||(t[18]=e("div",{class:"text-xs text-slate-600"},"System",-1))]),e("div",Z,[t[19]||(t[19]=e("div",{class:"w-10 h-10 rounded-xl bg-gradient-to-r from-indigo-500 to-purple-600 flex items-center justify-center mx-auto mb-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"text-white"},[e("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"})])],-1)),e("div",ee,n(m.value.message),1),t[20]||(t[20]=e("div",{class:"text-xs text-slate-600"},"Messages",-1))])])):u("",!0),e("div",te,[e("div",se,[e("div",re,[e("button",{onClick:t[0]||(t[0]=s=>l.value="all"),class:d([l.value==="all"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," All Notifications ",2),e("button",{onClick:t[1]||(t[1]=s=>l.value="unread"),class:d([l.value==="unread"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])},[t[21]||(t[21]=y(" Unread ",-1)),p.value>0?(a(),i("span",oe,n(p.value),1)):u("",!0)],2),h(x).role==="admin"?(a(),i(w,{key:0},[e("button",{onClick:t[2]||(t[2]=s=>l.value="enrollment"),class:d([l.value==="enrollment"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Enrollments ",2),e("button",{onClick:t[3]||(t[3]=s=>l.value="payment"),class:d([l.value==="payment"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Payments ",2),e("button",{onClick:t[4]||(t[4]=s=>l.value="alert"),class:d([l.value==="alert"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Alerts ",2)],64)):(a(),i(w,{key:1},[e("button",{onClick:t[5]||(t[5]=s=>l.value="account"),class:d([l.value==="account"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Account ",2),e("button",{onClick:t[6]||(t[6]=s=>l.value="welcome"),class:d([l.value==="welcome"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Welcome ",2),e("button",{onClick:t[7]||(t[7]=s=>l.value="warning"),class:d([l.value==="warning"?"bg-indigo-500 text-white":"bg-slate-100 text-slate-600 hover:bg-slate-200","px-4 py-2 rounded-2xl text-sm font-medium transition-all"])}," Warnings ",2)],64))]),e("div",le,[t[22]||(t[22]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"},[e("circle",{cx:"11",cy:"11",r:"8"}),e("path",{d:"m21 21-4.35-4.35"})],-1)),A(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>c.value=s),type:"text",placeholder:"Search notifications...",class:"w-80 bg-slate-100/70 backdrop-blur-sm px-4 py-3 pl-10 rounded-2xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:bg-white transition-all duration-200"},null,512),[[L,c.value]])])])]),e("div",ie,[k.value.length===0?(a(),i("div",ae,[t[23]||(t[23]=e("div",{class:"w-16 h-16 mx-auto mb-4 rounded-full bg-slate-100 flex items-center justify-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"text-slate-400"},[e("path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"}),e("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})])],-1)),t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-slate-900 mb-2"},"No notifications found",-1)),e("p",ne,n(c.value?"Try adjusting your search terms or filters":"You're all caught up! No new notifications at this time."),1)])):u("",!0),(a(!0),i(w,null,S(k.value,s=>(a(),i("div",{key:s.id,class:d(["bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-slate-200/50 p-6 cursor-pointer transition-all duration-200 hover:shadow-2xl hover:-translate-y-1",s.priority==="high"?"border-l-4 border-l-red-400":"border-l-4 border-l-indigo-400",{"ring-2 ring-indigo-200":!s.read}]),onClick:Be=>D(s)},[e("div",ue,[e("div",me,[s.avatar?(a(),i("div",ce,[e("img",{src:s.avatar,alt:s.title,class:"w-12 h-12 rounded-full object-cover"},null,8,xe),e("div",{class:d(["absolute -bottom-1 -right-1 w-6 h-6 rounded-full flex items-center justify-center",`bg-gradient-to-r ${j(s.type).bg}`])},[(a(),i("svg",ge,[e("path",{d:_(s.type)},null,8,pe)]))],2)])):(a(),i("div",{key:1,class:d(["w-12 h-12 rounded-xl flex items-center justify-center",`bg-gradient-to-r ${j(s.type).bg}`])},[(a(),i("svg",he,[e("path",{d:_(s.type)},null,8,we)]))],2))]),e("div",ve,[e("div",be,[e("h3",{class:d(["font-semibold truncate",s.read?"text-slate-700":"text-slate-900"])},n(s.title),3),e("div",ye,[e("span",fe,n(s.type),1),s.read?u("",!0):(a(),i("div",ke))])]),e("p",{class:d(["text-sm mb-3 line-clamp-2",s.read?"text-slate-500":"text-slate-600"])},n(s.description),3),e("div",_e,[e("div",je,[e("span",Ce,[t[25]||(t[25]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-1"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("polyline",{points:"12,6 12,12 16,14"})],-1)),y(" "+n(s.time),1)]),s.amount?(a(),i("span",Me,n(s.amount),1)):u("",!0),s.subject?(a(),i("span",De,n(s.subject),1)):u("",!0)]),s.priority==="high"?(a(),i("div",Ne,[...t[26]||(t[26]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"mr-1"},[e("path",{d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})],-1),y(" High Priority ",-1)])])):u("",!0)])])])],10,de))),128))])])]),_:1})],64))}},$e=P(ze,[["__scopeId","data-v-8e1fb5fb"]]);export{$e as default};
