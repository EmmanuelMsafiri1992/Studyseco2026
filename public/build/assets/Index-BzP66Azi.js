import{p as M,c as d,o as n,a as u,u as s,h as S,w as x,b as e,j as m,n as B,t as r,q as A,d as c,v as b,F as h,f as y,y as E,H as _,k as z,l as g}from"./app-DjJQmXbQ.js";import{_ as V}from"./DashboardLayout-8UNPPvWh.js";const U={class:"space-y-8"},L={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-8 shadow-xl border border-slate-200/50"},D={class:"flex items-center justify-between mb-6"},F={class:"flex items-center space-x-4"},P={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-6"},N={class:"bg-slate-50 rounded-2xl p-6"},q={class:"text-3xl font-bold text-slate-800 mb-2"},T={class:"bg-slate-50 rounded-2xl p-6"},$={class:"text-3xl font-bold text-slate-800 mb-2"},H={class:"bg-slate-50 rounded-2xl p-6"},Y={class:"text-3xl font-bold text-slate-800 mb-2"},O={class:"text-sm text-slate-600"},I={key:1,class:"space-y-8"},J={class:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-3xl p-8 border border-indigo-100"},R={class:"bg-white rounded-2xl p-6 space-y-4"},G={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"bg-white rounded-2xl p-6"},Q={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},X=["id","value"],Z=["for"],ee={class:"flex-1"},te={class:"flex items-center space-x-3"},se={class:"text-2xl"},oe={class:"font-medium text-slate-800"},le={class:"text-xs text-slate-500"},re={key:0,class:"mt-2 p-3 bg-red-50 rounded-lg border border-red-200"},ie={class:"text-sm text-red-600"},ne={class:"bg-white rounded-2xl p-6"},de={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},ae={class:"relative"},ce=["id","value"],ue=["for"],xe={class:"text-center"},pe={class:"font-bold text-slate-800 mb-2"},me={class:"text-2xl font-bold text-indigo-600 mb-1"},be={class:"text-sm text-slate-600"},ge={class:"flex flex-col space-y-4 pt-6"},ve=["disabled"],fe={class:"flex items-center justify-center space-x-2"},he={key:0,class:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},ke={key:1,class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},we={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},ye={class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 hover:shadow-2xl transition-all duration-300 group-hover:scale-105"},_e={class:"flex items-center space-x-4"},je={class:"text-lg font-semibold text-slate-800 group-hover:text-amber-600 transition-colors"},Ce={class:"text-sm text-slate-600"},Me={key:1,class:"block cursor-not-allowed opacity-60"},Se={class:"bg-gray-100 rounded-3xl p-6 shadow-xl border border-gray-200"},Be={class:"flex items-center space-x-4"},Ae={class:"text-sm text-gray-500"},Ve={__name:"Index",props:{auth:Object,enrollment:Object,availableSubjects:Array,accessDurations:Array,enrollmentStatus:Object},setup(k){const p=k,w=p.auth?.user||{name:"Guest"},i=p.enrollment||null,j=p.availableSubjects||[],a=p.enrollmentStatus||null,l=M({name:w.name||"",email:w.email||"",phone:"",location:"",subjects:[],access_duration_id:"trial"}),C=()=>{l.post("/enroll",{preserveScroll:!0,onSuccess:()=>{},onError:v=>{console.error("Enrollment errors:",v)}})};return(v,t)=>(n(),d(h,null,[u(s(S),{title:"Student Enrollment"}),u(V,{title:"Enrollment Management",subtitle:"Manage your subject enrollment"},{default:x(()=>[e("div",U,[e("div",L,[e("div",D,[t[7]||(t[7]=e("h2",{class:"text-2xl font-bold text-slate-800"},"Enrollment Status",-1)),e("div",F,[s(a)?(n(),d("div",{key:0,class:B([{"bg-green-100 text-green-800":s(a).status==="approved"||s(i)?.is_trial,"bg-yellow-100 text-yellow-800":s(a).status==="pending","bg-red-100 text-red-800":s(a).status==="rejected","bg-blue-100 text-blue-800":s(i)?.is_trial},"px-4 py-2 rounded-full text-sm font-medium"])},r(s(i)?.is_trial?"ðŸ†“ Free Trial":s(a).status.charAt(0).toUpperCase()+s(a).status.slice(1)),3)):m("",!0)])]),s(i)?(n(),d("div",P,[e("div",N,[t[8]||(t[8]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"w-10 h-10 bg-emerald-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-emerald-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])]),e("h3",{class:"text-lg font-semibold text-slate-800"},"Subjects Enrolled")],-1)),e("p",q,r(s(a)?.subjects_count||0),1),t[9]||(t[9]=e("p",{class:"text-sm text-slate-600"},"Active subjects",-1))]),e("div",T,[t[10]||(t[10]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])]),e("h3",{class:"text-lg font-semibold text-slate-800"},"Access Remaining")],-1)),e("p",$,r(s(a)?.access_days_remaining||0),1),t[11]||(t[11]=e("p",{class:"text-sm text-slate-600"},"Days left",-1))]),e("div",H,[t[12]||(t[12]=e("div",{class:"flex items-center space-x-3 mb-3"},[e("div",{class:"w-10 h-10 bg-purple-100 rounded-xl flex items-center justify-center"},[e("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})])]),e("h3",{class:"text-lg font-semibold text-slate-800"},"Account Type")],-1)),e("p",Y,r(s(i)?.is_trial?"Free Trial":"Premium"),1),e("p",O,r(s(i)?.is_trial?"7 Days Free Trial":"Full Access"),1)])])):(n(),d("div",I,[t[28]||(t[28]=e("div",{class:"text-center py-8"},[e("div",{class:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-6"},[e("svg",{class:"w-8 h-8 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),e("h3",{class:"text-xl font-semibold text-slate-800 mb-4"},"No Active Enrollment"),e("p",{class:"text-slate-600 mb-8"},"You haven't enrolled in any subjects yet. Start your learning journey today!")],-1)),e("div",J,[t[27]||(t[27]=e("div",{class:"text-center mb-8"},[e("h2",{class:"text-2xl font-bold text-slate-800 mb-4"},"ðŸŽ“ Start Your Learning Journey"),e("p",{class:"text-slate-600"},"Choose your subjects and access duration to get started")],-1)),e("form",{onSubmit:A(C,["prevent"]),class:"space-y-6"},[e("div",R,[t[17]||(t[17]=e("h3",{class:"text-lg font-semibold text-slate-800 mb-4"},"ðŸ“ Personal Information",-1)),e("div",G,[e("div",null,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Full Name",-1)),c(e("input",{type:"text",name:"name","onUpdate:modelValue":t[0]||(t[0]=o=>s(l).name=o),required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Your full name"},null,512),[[b,s(l).name]])]),e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Email Address",-1)),c(e("input",{type:"email",name:"email","onUpdate:modelValue":t[1]||(t[1]=o=>s(l).email=o),required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"your.email@example.com"},null,512),[[b,s(l).email]])])]),e("div",K,[e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Phone Number",-1)),c(e("input",{type:"tel",name:"phone","onUpdate:modelValue":t[2]||(t[2]=o=>s(l).phone=o),required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"+265 xxx xxx xxx"},null,512),[[b,s(l).phone]])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-slate-700 mb-2"},"Location",-1)),c(e("input",{type:"text",name:"location","onUpdate:modelValue":t[3]||(t[3]=o=>s(l).location=o),required:"",class:"w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"City, Country"},null,512),[[b,s(l).location]])])])]),e("div",W,[t[19]||(t[19]=e("h3",{class:"text-lg font-semibold text-slate-800 mb-4"},"ðŸ“š Choose Your Subjects",-1)),e("div",Q,[(n(!0),d(h,null,y(s(j),o=>(n(),d("div",{key:o.id,class:"relative"},[c(e("input",{type:"checkbox",id:`subject-${o.id}`,value:o.id,"onUpdate:modelValue":t[4]||(t[4]=f=>s(l).subjects=f),class:"sr-only peer"},null,8,X),[[E,s(l).subjects]]),e("label",{for:`subject-${o.id}`,class:"flex items-center p-4 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 peer-checked:border-indigo-500 peer-checked:bg-indigo-50 transition-all duration-200"},[e("div",ee,[e("div",te,[e("span",se,r(o.icon),1),e("div",null,[e("h4",oe,r(o.name),1),e("p",le,r(o.department),1)])])]),t[18]||(t[18]=e("div",{class:"w-5 h-5 border-2 border-slate-300 rounded peer-checked:border-indigo-500 peer-checked:bg-indigo-500 flex items-center justify-center"},[e("svg",{class:"w-3 h-3 text-white opacity-0 peer-checked:opacity-100",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])],-1))],8,Z)]))),128))]),t[20]||(t[20]=e("div",{class:"mt-4 p-4 bg-blue-50 rounded-xl border border-blue-200"},[e("div",{class:"flex items-center space-x-2 text-blue-800"},[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]),e("p",{class:"text-sm font-medium"},"Select at least one subject to continue")])],-1)),s(l).errors.subjects?(n(),d("div",re,[e("p",ie,r(s(l).errors.subjects),1)])):m("",!0)]),e("div",ne,[t[23]||(t[23]=e("h3",{class:"text-lg font-semibold text-slate-800 mb-4"},"â° Choose Access Duration",-1)),e("div",de,[e("div",ae,[c(e("input",{type:"radio",id:"trial-option",value:"trial","onUpdate:modelValue":t[5]||(t[5]=o=>s(l).access_duration_id=o),class:"sr-only peer"},null,512),[[_,s(l).access_duration_id]]),t[21]||(t[21]=e("label",{for:"trial-option",class:"block p-6 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-green-300 peer-checked:border-green-500 peer-checked:bg-green-50 transition-all duration-200"},[e("div",{class:"text-center"},[e("div",{class:"text-3xl mb-2"},"ðŸ†“"),e("h4",{class:"font-bold text-slate-800 mb-2"},"Free Trial"),e("p",{class:"text-2xl font-bold text-green-600 mb-1"},"7 Days"),e("p",{class:"text-sm text-slate-600"},"Perfect for trying out"),e("div",{class:"mt-3 px-3 py-1 bg-green-100 text-green-700 text-xs rounded-full inline-block"}," Most Popular ")])],-1))]),(n(!0),d(h,null,y(k.accessDurations,o=>(n(),d("div",{key:o.id,class:"relative"},[c(e("input",{type:"radio",id:`duration-${o.id}`,value:o.id,"onUpdate:modelValue":t[6]||(t[6]=f=>s(l).access_duration_id=f),class:"sr-only peer"},null,8,ce),[[_,s(l).access_duration_id]]),e("label",{for:`duration-${o.id}`,class:"block p-6 border-2 border-slate-200 rounded-xl cursor-pointer hover:border-indigo-300 peer-checked:border-indigo-500 peer-checked:bg-indigo-50 transition-all duration-200"},[e("div",xe,[t[22]||(t[22]=e("div",{class:"text-3xl mb-2"},"ðŸ’Ž",-1)),e("h4",pe,r(o.name),1),e("p",me,"MWK "+r(o.price?.toLocaleString()),1),e("p",be,r(o.description),1)])],8,ue)]))),128))])]),e("div",ge,[e("button",{type:"submit",disabled:s(l).processing,class:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-2xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none"},[e("div",fe,[s(l).processing?(n(),d("svg",he,[...t[24]||(t[24]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):(n(),d("svg",ke,[...t[25]||(t[25]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"},null,-1)])])),e("span",null,r(s(l).processing?"Processing...":"Start Learning Journey"),1)])],8,ve),t[26]||(t[26]=e("p",{class:"text-center text-sm text-slate-500"}," âœ… Start with 7 days free trial â€¢ âœ… No commitment required â€¢ âœ… Cancel anytime ",-1))])],32)])]))]),s(i)?(n(),d("div",we,[u(s(g),{href:"/student/subjects",class:"block group"},{default:x(()=>[...t[29]||(t[29]=[e("div",{class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 hover:shadow-2xl transition-all duration-300 group-hover:scale-105"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-slate-800 group-hover:text-emerald-600 transition-colors"},"My Subjects"),e("p",{class:"text-sm text-slate-600"},"View enrolled subjects")])])],-1)])]),_:1}),u(s(g),{href:s(i)?.is_trial?"/account-settings":"/student/extension",class:"block group"},{default:x(()=>[e("div",ye,[e("div",_e,[t[30]||(t[30]=e("div",{class:"w-12 h-12 bg-gradient-to-br from-amber-500 to-orange-600 rounded-2xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[e("h3",je,r(s(i)?.is_trial?"Upgrade Account":"Extend Access"),1),e("p",Ce,r(s(i)?.is_trial?"Upgrade to Premium first":"Extend your access period"),1)])])])]),_:1},8,["href"]),s(i)&&!s(i)?.is_trial&&s(a)?.status==="approved"?(n(),z(s(g),{key:0,href:v.route("student.enrollment.increase-subjects"),class:"block group"},{default:x(()=>[...t[31]||(t[31]=[e("div",{class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 hover:shadow-2xl transition-all duration-300 group-hover:scale-105"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"w-12 h-12 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-slate-800 group-hover:text-blue-600 transition-colors"},"Add More Subjects"),e("p",{class:"text-sm text-slate-600"},"Expand your learning")])])],-1)])]),_:1},8,["href"])):s(i)?(n(),d("div",Me,[e("div",Se,[e("div",Be,[t[33]||(t[33]=e("div",{class:"w-12 h-12 bg-gray-400 rounded-2xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})])],-1)),e("div",null,[t[32]||(t[32]=e("h3",{class:"text-lg font-semibold text-gray-600"},"Add More Subjects",-1)),e("p",Ae,r(s(i)?.is_trial?"Upgrade to premium first":s(a)?.status!=="approved"?"Enrollment needs approval":"Available for premium users"),1)])])])])):m("",!0),u(s(g),{href:"/profile",class:"block group"},{default:x(()=>[...t[34]||(t[34]=[e("div",{class:"bg-white/80 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-slate-200/50 hover:shadow-2xl transition-all duration-300 group-hover:scale-105"},[e("div",{class:"flex items-center space-x-4"},[e("div",{class:"w-12 h-12 bg-gradient-to-br from-rose-500 to-pink-600 rounded-2xl flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})])]),e("div",null,[e("h3",{class:"text-lg font-semibold text-slate-800 group-hover:text-rose-600 transition-colors"},"Profile Settings"),e("p",{class:"text-sm text-slate-600"},"Update your information")])])],-1)])]),_:1})])):m("",!0)])]),_:1})],64))}};export{Ve as default};
