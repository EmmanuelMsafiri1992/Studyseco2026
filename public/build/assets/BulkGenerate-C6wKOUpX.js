import{r as u,s as x,z as ie,A as de,c as r,o as l,a as Y,u as ue,h as ce,w as K,b as t,j as c,i as V,t as a,d as f,v as $,F as m,f as h,g as q,n as L,q as ge,y as pe,B as j}from"./app--fhtQyYk.js";import{_ as ve}from"./DashboardLayout-DwXMIeFU.js";const xe={class:"flex items-center justify-between"},fe={key:0,class:"text-right"},me={class:"text-2xl font-bold text-purple-600"},ye={class:"py-6"},be={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},he={key:0,class:"mb-6 p-4 bg-amber-50 border border-amber-200 rounded-xl"},_e={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-6"},we={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},ke={class:"text-2xl font-bold text-gray-800"},Ce={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ae={class:"text-2xl font-bold text-green-600"},Se={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ve={class:"text-2xl font-bold text-amber-600"},Le={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},je={class:"text-2xl font-bold text-blue-600"},Be={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ge={class:"text-2xl font-bold text-purple-600"},Fe={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ee={class:"text-2xl font-bold text-green-600"},Me={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Ne={class:"text-2xl font-bold text-red-600"},Ue={key:1,class:"mb-6 p-4 bg-red-50 border border-red-200 rounded-xl"},ze={class:"flex items-center space-x-3"},$e={class:"text-red-700"},Pe={key:2,class:"mb-6 p-4 bg-green-50 border border-green-200 rounded-xl"},He={class:"flex items-center space-x-3"},Te={class:"text-green-700"},qe={key:3,class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},De={class:"lg:col-span-2 space-y-6"},Oe={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},Qe={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Ie=["value"],Re={class:"flex items-center justify-between bg-white rounded-xl p-4 shadow-sm border border-gray-100"},We={class:"flex items-center space-x-4"},Ye={class:"flex items-center space-x-4"},Ke={class:"text-sm text-gray-600"},Je={class:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden"},Xe={class:"max-h-[500px] overflow-y-auto"},Ze={class:"w-full"},et={class:"bg-gray-50 sticky top-0"},tt={class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-10"},st=["checked"],ot={class:"divide-y divide-gray-100"},rt=["onClick"],lt={class:"px-4 py-3"},at=["checked","onChange"],nt={class:"px-4 py-3"},it={class:"font-medium text-gray-800 text-sm"},dt={class:"px-4 py-3"},ut={class:"text-xs text-gray-500"},ct={class:"text-xs text-gray-400"},gt={class:"px-4 py-3"},pt={key:0,class:"p-8 text-center text-gray-500"},vt={key:0,class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},xt={class:"space-y-4 max-h-[400px] overflow-y-auto"},ft={class:"flex items-center justify-between mb-2"},mt={class:"font-medium text-gray-700 text-sm"},yt=["onClick"],bt=["onUpdate:modelValue"],ht={class:"text-xs text-gray-400 mt-1"},_t={class:"space-y-6"},wt={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},kt={class:"mb-4"},Ct={class:"flex items-center space-x-2"},At={class:"mb-4"},St={class:"grid grid-cols-3 gap-2 max-h-48 overflow-y-auto"},Vt=["onClick"],Lt=["src","alt"],jt={key:1,class:"w-12 h-12 bg-gray-200 rounded-lg mx-auto mb-1 flex items-center justify-center"},Bt={class:"text-xs text-gray-600 truncate text-center"},Gt={class:"flex space-x-2 mb-2"},Ft=["value"],Et={class:"space-y-1 max-h-48 overflow-y-auto"},Mt=["onClick"],Nt={class:"font-medium text-gray-700 text-sm"},Ut={class:"text-xs text-gray-500"},zt={class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},$t={class:"mb-4 text-sm text-gray-600"},Pt={class:"font-semibold text-purple-600"},Ht={class:"font-semibold text-purple-600"},Tt=["disabled"],qt={key:0,class:"flex items-center justify-center space-x-2"},Dt={key:1},Ot={key:0,class:"mt-2 text-xs text-amber-600"},Qt={key:0,class:"bg-white rounded-xl p-4 shadow-sm border border-gray-100"},It={class:"space-y-2 max-h-48 overflow-y-auto"},Rt={class:"text-sm text-blue-800 truncate flex-1"},Kt={__name:"BulkGenerate",props:{subjects:Array,lessonsNeedingVideos:Array,lessonsGenerating:Array,stats:Object,heygenConfigured:Boolean,avatars:Array,voices:Array,credits:Object},setup(d){const C=d,i=u([]),g=u({}),B=u(null),G=u(null),D=u({}),O=u({}),_=u(!0),A=u(!1),y=u(null),w=u(null),F=u(""),k=u("all"),E=u(""),M=u(""),N=u(""),U=u("");let v=null;const J=u({}),p=x(()=>{const o=[];return C.subjects.forEach(e=>{e.topics?.forEach(s=>{s.lessons?.forEach(n=>{o.push({...n,topic_name:s.name,subject_name:e.name,subject_id:e.id})})})}),o}),b=x(()=>{let o=p.value;if(F.value&&(o=o.filter(e=>e.subject_id===parseInt(F.value))),k.value==="no_video"?o=o.filter(e=>!e.video_path):k.value==="has_video"?o=o.filter(e=>e.video_path):k.value==="generating"?o=o.filter(e=>["pending","processing"].includes(e.heygen_status)):k.value==="failed"&&(o=o.filter(e=>e.heygen_status==="failed")),E.value){const e=E.value.toLowerCase();o=o.filter(s=>s.title.toLowerCase().includes(e)||s.topic_name?.toLowerCase().includes(e)||s.subject_name?.toLowerCase().includes(e))}return o}),X=x(()=>{let o=C.avatars||[];if(M.value){const e=M.value.toLowerCase();o=o.filter(s=>s.avatar_name?.toLowerCase().includes(e)||s.avatar_id?.toLowerCase().includes(e))}return o.slice(0,30)}),Z=x(()=>{let o=C.voices||[];if(U.value&&(o=o.filter(e=>e.language===U.value)),N.value){const e=N.value.toLowerCase();o=o.filter(s=>s.voice_name?.toLowerCase().includes(e)||s.voice_id?.toLowerCase().includes(e))}return o.slice(0,30)}),ee=x(()=>{const o=new Set((C.voices||[]).map(e=>e.language).filter(Boolean));return Array.from(o).sort()}),z=x(()=>{if(i.value.length===0||_.value&&(!B.value||!G.value))return!1;for(const o of i.value){const e=g.value[o];if(!e||e.trim().length<10||!_.value&&(!D.value[o]||!O.value[o]))return!1}return!0}),P=x(()=>i.value.length),te=x(()=>i.value.length*4),Q=o=>{const e=i.value.indexOf(o);e===-1?(i.value.push(o),g.value[o]||p.value.find(n=>n.id===o)&&H(o)):i.value.splice(e,1)},I=()=>{i.value=b.value.map(o=>o.id),i.value.forEach(o=>{g.value[o]||H(o)})},R=()=>{i.value=[]},H=async o=>{try{const e=await j.post(route("admin.heygen.suggest-script"),{lesson_id:o});e.data.success&&(g.value[o]=e.data.script)}catch(e){console.error("Error generating script:",e);const s=p.value.find(n=>n.id===o);s&&(g.value[o]=`Welcome to this lesson on ${s.title}. ${s.description||""} Let's begin!`)}},se=async()=>{if(!z.value)return;A.value=!0,y.value=null,w.value=null;const o=i.value.map(e=>({id:e,script:g.value[e],avatar_id:_.value?B.value:D.value[e],voice_id:_.value?G.value:O.value[e]}));try{const e=await j.post(route("admin.heygen.generate"),{lessons:o});e.data.success?(w.value=e.data.message,T(),i.value=[]):y.value=e.data.errors?.join(", ")||"Failed to queue videos"}catch(e){y.value=e.response?.data?.message||"Failed to generate videos"}finally{A.value=!1}},T=()=>{v&&clearInterval(v),W(),v=setInterval(W,5e3)},W=async()=>{const o=p.value.filter(e=>["pending","processing"].includes(e.heygen_status)).map(e=>e.id);if(o.length===0){v&&(clearInterval(v),v=null);return}try{const e=await j.post(route("admin.heygen.status"),{lesson_ids:o});e.data.success&&(J.value=e.data.lessons,Object.entries(e.data.lessons).forEach(([s,n])=>{const S=p.value.find(ne=>ne.id===parseInt(s));S&&(S.heygen_status=n.heygen_status,S.video_path=n.video_path)}))}catch(e){console.error("Error polling statuses:",e)}},oe=async()=>{const o=p.value.filter(e=>["pending","processing"].includes(e.heygen_status)).map(e=>e.id);if(o.length!==0)try{const e=await j.post(route("admin.heygen.cancel-bulk"),{lesson_ids:o});e.data.success&&(w.value=e.data.message,o.forEach(s=>{const n=p.value.find(S=>S.id===s);n&&(n.heygen_status="failed")}))}catch{y.value="Failed to cancel generations"}},re=async()=>{const o=p.value.filter(e=>e.heygen_status==="failed").map(e=>e.id);if(o.length!==0)try{const e=await j.post(route("admin.heygen.retry-failed"),{lesson_ids:o});e.data.success&&(w.value=e.data.message,T())}catch{y.value="Failed to retry generations"}},le=o=>{switch(o){case"completed":return"text-green-600 bg-green-100";case"processing":case"pending":return"text-blue-600 bg-blue-100";case"failed":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},ae=o=>{switch(o){case"completed":return"Completed";case"processing":return"Processing";case"pending":return"Queued";case"failed":return"Failed";default:return"No Video"}};return ie(()=>{C.lessonsGenerating?.length>0&&T()}),de(()=>{v&&clearInterval(v)}),(o,e)=>(l(),r(m,null,[Y(ue(ce),{title:"Bulk AI Video Generation"}),Y(ve,null,{header:K(()=>[t("div",xe,[e[10]||(e[10]=t("div",null,[t("h2",{class:"text-2xl font-bold text-gray-800"},"Bulk AI Video Generation"),t("p",{class:"text-sm text-gray-500 mt-1"},"Generate AI avatar videos for multiple lessons at once")],-1)),d.credits?(l(),r("div",fe,[e[9]||(e[9]=t("p",{class:"text-sm text-gray-500"},"HeyGen Credits",-1)),t("p",me,a(d.credits.remaining_quota||"N/A"),1)])):c("",!0)])]),default:K(()=>[t("div",ye,[t("div",be,[d.heygenConfigured?c("",!0):(l(),r("div",he,[...e[11]||(e[11]=[t("div",{class:"flex items-start space-x-3"},[t("svg",{class:"w-6 h-6 text-amber-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})]),t("div",null,[t("h4",{class:"font-semibold text-amber-800"},"HeyGen API Not Configured"),t("p",{class:"text-sm text-amber-700 mt-1"},[V(" Add your HeyGen API key to "),t("code",{class:"bg-amber-100 px-2 py-0.5 rounded"},".env"),V(": "),t("code",{class:"bg-amber-100 px-2 py-0.5 rounded block mt-1"},"HEYGEN_API_KEY=your_api_key")])])],-1)])])),t("div",_e,[t("div",we,[e[12]||(e[12]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Total",-1)),t("p",ke,a(d.stats.total_lessons),1)]),t("div",Ce,[e[13]||(e[13]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"With Video",-1)),t("p",Ae,a(d.stats.lessons_with_video),1)]),t("div",Se,[e[14]||(e[14]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"No Video",-1)),t("p",Ve,a(d.stats.lessons_without_video),1)]),t("div",Le,[e[15]||(e[15]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Queued",-1)),t("p",je,a(d.stats.heygen_pending),1)]),t("div",Be,[e[16]||(e[16]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Processing",-1)),t("p",Ge,a(d.stats.heygen_processing),1)]),t("div",Fe,[e[17]||(e[17]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Completed",-1)),t("p",Ee,a(d.stats.heygen_completed),1)]),t("div",Me,[e[18]||(e[18]=t("p",{class:"text-xs text-gray-500 uppercase tracking-wide"},"Failed",-1)),t("p",Ne,a(d.stats.heygen_failed),1)])]),y.value?(l(),r("div",Ue,[t("div",ze,[e[19]||(e[19]=t("svg",{class:"w-5 h-5 text-red-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t("p",$e,a(y.value),1)])])):c("",!0),w.value?(l(),r("div",Pe,[t("div",He,[e[20]||(e[20]=t("svg",{class:"w-5 h-5 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)),t("p",Te,a(w.value),1)])])):c("",!0),d.heygenConfigured?(l(),r("div",qe,[t("div",De,[t("div",Oe,[t("div",Qe,[t("div",null,[e[21]||(e[21]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Search",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>E.value=s),type:"text",placeholder:"Search lessons...",class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,E.value]])]),t("div",null,[e[23]||(e[23]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Subject",-1)),f(t("select",{"onUpdate:modelValue":e[1]||(e[1]=s=>F.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[e[22]||(e[22]=t("option",{value:""},"All Subjects",-1)),(l(!0),r(m,null,h(d.subjects,s=>(l(),r("option",{key:s.id,value:s.id},a(s.name),9,Ie))),128))],512),[[q,F.value]])]),t("div",null,[e[25]||(e[25]=t("label",{class:"block text-xs font-medium text-gray-500 mb-1"},"Status",-1)),f(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>k.value=s),class:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[...e[24]||(e[24]=[t("option",{value:"all"},"All Lessons",-1),t("option",{value:"no_video"},"No Video",-1),t("option",{value:"has_video"},"Has Video",-1),t("option",{value:"generating"},"Generating",-1),t("option",{value:"failed"},"Failed",-1)])],512),[[q,k.value]])])])]),t("div",Re,[t("div",We,[t("button",{onClick:I,class:"text-sm text-purple-600 hover:text-purple-800 font-medium"}," Select All ("+a(b.value.length)+") ",1),t("button",{onClick:R,class:"text-sm text-gray-600 hover:text-gray-800 font-medium"}," Deselect All ")]),t("div",Ye,[t("span",Ke,a(P.value)+" selected ",1),d.stats.heygen_failed>0?(l(),r("button",{key:0,onClick:re,class:"px-3 py-1 text-sm bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200"}," Retry Failed ")):c("",!0),d.stats.heygen_pending+d.stats.heygen_processing>0?(l(),r("button",{key:1,onClick:oe,class:"px-3 py-1 text-sm bg-red-100 text-red-700 rounded-lg hover:bg-red-200"}," Cancel All ")):c("",!0)])]),t("div",Je,[t("div",Xe,[t("table",Ze,[t("thead",et,[t("tr",null,[t("th",tt,[t("input",{type:"checkbox",checked:i.value.length===b.value.length&&b.value.length>0,onChange:e[3]||(e[3]=s=>i.value.length===b.value.length?R():I()),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,40,st)]),e[26]||(e[26]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Lesson",-1)),e[27]||(e[27]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Subject / Topic",-1)),e[28]||(e[28]=t("th",{class:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status",-1))])]),t("tbody",ot,[(l(!0),r(m,null,h(b.value,s=>(l(),r("tr",{key:s.id,class:L(["hover:bg-gray-50 cursor-pointer transition-colors",i.value.includes(s.id)?"bg-purple-50":""]),onClick:n=>Q(s.id)},[t("td",lt,[t("input",{type:"checkbox",checked:i.value.includes(s.id),onClick:e[4]||(e[4]=ge(()=>{},["stop"])),onChange:n=>Q(s.id),class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,40,at)]),t("td",nt,[t("p",it,a(s.title),1)]),t("td",dt,[t("p",ut,a(s.subject_name),1),t("p",ct,a(s.topic_name),1)]),t("td",gt,[t("span",{class:L(["px-2 py-1 text-xs font-medium rounded-full",le(s.heygen_status||(s.video_path?"completed":"none"))])},a(s.video_path?"Has Video":ae(s.heygen_status)),3)])],10,rt))),128))])]),b.value.length===0?(l(),r("div",pt," No lessons found matching your filters. ")):c("",!0)])]),i.value.length>0?(l(),r("div",vt,[e[29]||(e[29]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Scripts for Selected Lessons",-1)),t("div",xt,[(l(!0),r(m,null,h(i.value,s=>(l(),r("div",{key:s,class:"border border-gray-200 rounded-lg p-4"},[t("div",ft,[t("p",mt,a(p.value.find(n=>n.id===s)?.title),1),t("button",{onClick:n=>H(s),class:"text-xs text-purple-600 hover:text-purple-800"}," Regenerate Script ",8,yt)]),f(t("textarea",{"onUpdate:modelValue":n=>g.value[s]=n,rows:"3",class:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Enter the script for this lesson..."},null,8,bt),[[$,g.value[s]]]),t("p",ht,a((g.value[s]||"").length)+" characters",1)]))),128))])])):c("",!0)]),t("div",_t,[t("div",wt,[e[35]||(e[35]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Avatar & Voice Settings",-1)),t("div",kt,[t("label",Ct,[f(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>_.value=s),type:"checkbox",class:"rounded border-gray-300 text-purple-600 focus:ring-purple-500"},null,512),[[pe,_.value]]),e[30]||(e[30]=t("span",{class:"text-sm text-gray-700"},"Use same avatar & voice for all lessons",-1))])]),t("div",At,[e[32]||(e[32]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Avatar",-1)),f(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>M.value=s),type:"text",placeholder:"Search avatars...",class:"w-full px-3 py-2 mb-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,M.value]]),t("div",St,[(l(!0),r(m,null,h(X.value,s=>(l(),r("button",{key:s.avatar_id,onClick:n=>B.value=s.avatar_id,class:L(["p-2 border-2 rounded-lg transition-all duration-200",B.value===s.avatar_id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"])},[s.preview_image_url?(l(),r("img",{key:0,src:s.preview_image_url,alt:s.avatar_name,class:"w-12 h-12 object-cover rounded-lg mx-auto mb-1"},null,8,Lt)):(l(),r("div",jt,[...e[31]||(e[31]=[t("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})],-1)])])),t("p",Bt,a(s.avatar_name||s.avatar_id),1)],10,Vt))),128))])]),t("div",null,[e[34]||(e[34]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Select Voice",-1)),t("div",Gt,[f(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>N.value=s),type:"text",placeholder:"Search...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},null,512),[[$,N.value]]),f(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>U.value=s),class:"px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent"},[e[33]||(e[33]=t("option",{value:""},"All",-1)),(l(!0),r(m,null,h(ee.value,s=>(l(),r("option",{key:s,value:s},a(s),9,Ft))),128))],512),[[q,U.value]])]),t("div",Et,[(l(!0),r(m,null,h(Z.value,s=>(l(),r("button",{key:s.voice_id,onClick:n=>G.value=s.voice_id,class:L(["w-full p-2 border-2 rounded-lg text-left transition-all duration-200",G.value===s.voice_id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"])},[t("p",Nt,a(s.voice_name||s.voice_id),1),t("p",Ut,a(s.language)+" - "+a(s.gender||"Unknown"),1)],10,Mt))),128))])])]),t("div",zt,[t("div",$t,[t("p",null,[e[36]||(e[36]=V("Selected: ",-1)),t("span",Pt,a(P.value),1),e[37]||(e[37]=V(" lessons",-1))]),t("p",null,[e[38]||(e[38]=V("Est. credits: ",-1)),t("span",Ht,"~"+a(te.value),1)])]),t("button",{onClick:se,disabled:!z.value||A.value,class:L(["w-full py-3 px-4 font-semibold rounded-xl transition-all duration-200",z.value&&!A.value?"bg-gradient-to-r from-purple-600 to-indigo-600 text-white hover:from-purple-700 hover:to-indigo-700 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[A.value?(l(),r("span",qt,[...e[39]||(e[39]=[t("svg",{class:"animate-spin w-5 h-5",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1),t("span",null,"Queueing...",-1)])])):(l(),r("span",Dt,"Generate "+a(P.value)+" Videos",1))],10,Tt),!z.value&&i.value.length>0?(l(),r("p",Ot," Please ensure all selected lessons have scripts and avatar/voice settings. ")):c("",!0)]),d.lessonsGenerating.length>0?(l(),r("div",Qt,[e[41]||(e[41]=t("h3",{class:"font-semibold text-gray-800 mb-4"},"Currently Generating",-1)),t("div",It,[(l(!0),r(m,null,h(d.lessonsGenerating,s=>(l(),r("div",{key:s.id,class:"flex items-center space-x-3 p-2 bg-blue-50 rounded-lg"},[e[40]||(e[40]=t("svg",{class:"w-4 h-4 text-blue-500 animate-spin",fill:"none",viewBox:"0 0 24 24"},[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})],-1)),t("p",Rt,a(s.title),1)]))),128))])])):c("",!0)])])):c("",!0)])])]),_:1})],64))}};export{Kt as default};
